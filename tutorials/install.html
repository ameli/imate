


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1. Install &#8212; imate Manual</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom-pydata.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/toggleprompt.js"></script>
    <script src="../_static/js/custom-pydata.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="shortcut icon" href="../_static/logo-imate.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Using imate on Docker" href="docker.html" />
    <link rel="prev" title="imate Documentation" href="../index.html" />
    <script defer data-domain="docs.scipy.org" src="https://views.scientific-python.org/js/script.js"></script>

    <!-- Adobe Embed API -->
    <script src="https://documentcloud.adobe.com/view-sdk/viewer.js"></script>

    <!-- My custom JS -->
    <script type="text/javascript" src="../_static/js/custom-pydata.js"></script>

    <!-- Syntax highlighting for BibTex code blocks -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-solarizedlight.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs-bibtex@2.0.1/prism-bibtex.min.js"></script>

    
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="None">

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="auto">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/images/icons/logo-imate-light.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/images/icons/logo-imate-dark.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  1. Install
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="docker.html">
  2. Docker
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="gpu.html">
  3. GPU
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../cite.html">
  Publications
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ameli/imate" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/imate/" rel="noopener" target="_blank" title="PyPI"><span><i class="fab fa-python"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://anaconda.org/s-ameli/imate" rel="noopener" target="_blank" title="Anaconda Cloud"><span><i class="fa fa-circle-notch"></i></span>
            <label class="sr-only">Anaconda Cloud</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://hub.docker.com/repository/docker/sameli/imate" rel="noopener" target="_blank" title="Docker Hub"><span><i class="fab fa-docker"></i></span>
            <label class="sr-only">Docker Hub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://mybinder.org/v2/gh/ameli/imate/HEAD?filepath=notebooks%2FInterpolateTraceOfInverse.ipynb" rel="noopener" target="_blank" title="Lanuch Jupyter on Binder"><span><i class="fa fa-chart-line"></i></span>
            <label class="sr-only">Lanuch Jupyter on Binder</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
    
    
  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install-project-from-wheels">
   1.1. Install
   <span class="synco">
    imate
   </span>
   From Wheels
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-with-pip">
     1.1.1. Install with
     <code class="docutils literal notranslate">
      <span class="pre">
       pip
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-with-conda">
     1.1.2. Install with
     <code class="docutils literal notranslate">
      <span class="pre">
       conda
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#install-project-in-virtual-environments">
   1.2. Install
   <span class="synco">
    imate
   </span>
   in Virtual Environments
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-in-virtualenv-environment">
     1.2.1. Install in
     <code class="docutils literal notranslate">
      <span class="pre">
       virtualenv
      </span>
     </code>
     Environment
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-in-conda-environment">
     1.2.2. Install in
     <code class="docutils literal notranslate">
      <span class="pre">
       conda
      </span>
     </code>
     Environment
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#optional-runtime-dependencies">
   1.3. Optional Runtime Dependencies
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cuda-toolkit-and-nvidia-graphic-driver-optional">
     1.3.1. CUDA Toolkit and NVIDIA Graphic Driver (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sparse-suite-optional">
     1.3.2. Sparse Suite (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#openblas-optional">
     1.3.3. OpenBLAS (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compile-from-source">
   1.4. Compile from Source
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#when-to-compile-project">
     1.4.1. When to Compile
     <span class="synco">
      imate
     </span>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-c-compiler-and-openmp-required">
     1.4.2. Install C++ Compiler and OpenMP (
     <cite>
      Required
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-openmp-required">
     1.4.3. Install OpenMP (
     <cite>
      Required
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-openblas">
     1.4.4. OpenBLAS (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-cuda-compiler-optional">
     1.4.5. Install CUDA Compiler (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#load-cuda-compiler-on-gpu-cluster-optional">
     1.4.6. Load CUDA Compiler on GPU Cluster (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#configure-compile-time-environment-variables-optional">
     1.4.7. Configure Compile-Time Environment Variables (
     <cite>
      Optional
     </cite>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compile-and-install">
     1.4.8. Compile and Install
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compile-documentation">
   1.5. Compile Documentation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test-with-pytest">
   1.6. Test with
   <code class="docutils literal notranslate">
    <span class="pre">
     pytest
    </span>
   </code>
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      

<div class="tocsection editthispage">
    <a href="https://github.com/https://github.com/ameli/imate/edit/main/docs/source/tutorials/install.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="install">
<span id="id1"></span><h1><a class="toc-backref" href="#id3"><span class="section-number">1. </span>Install</a><a class="headerlink" href="#install" title="Permalink to this headline">#</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#install" id="id3">Install</a></p>
<ul>
<li><p><a class="reference internal" href="#install-project-from-wheels" id="id4">Install <span class="synco">imate</span> From Wheels</a></p>
<ul>
<li><p><a class="reference internal" href="#install-with-pip" id="id5">Install with <code class="docutils literal notranslate"><span class="pre">pip</span></code></a></p></li>
<li><p><a class="reference internal" href="#install-with-conda" id="id6">Install with <code class="docutils literal notranslate"><span class="pre">conda</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#install-project-in-virtual-environments" id="id7">Install <span class="synco">imate</span> in Virtual Environments</a></p>
<ul>
<li><p><a class="reference internal" href="#install-in-virtualenv-environment" id="id8">Install in <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> Environment</a></p></li>
<li><p><a class="reference internal" href="#install-in-conda-environment" id="id9">Install in <code class="docutils literal notranslate"><span class="pre">conda</span></code> Environment</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#optional-runtime-dependencies" id="id10">Optional Runtime Dependencies</a></p>
<ul>
<li><p><a class="reference internal" href="#cuda-toolkit-and-nvidia-graphic-driver-optional" id="id11">CUDA Toolkit and NVIDIA Graphic Driver (<cite>Optional</cite>)</a></p></li>
<li><p><a class="reference internal" href="#sparse-suite-optional" id="id12">Sparse Suite (<cite>Optional</cite>)</a></p></li>
<li><p><a class="reference internal" href="#openblas-optional" id="id13">OpenBLAS (<cite>Optional</cite>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#compile-from-source" id="id14">Compile from Source</a></p>
<ul>
<li><p><a class="reference internal" href="#when-to-compile-project" id="id15">When to Compile <span class="synco">imate</span></a></p></li>
<li><p><a class="reference internal" href="#install-c-compiler-and-openmp-required" id="id16">Install C++ Compiler and OpenMP (<cite>Required</cite>)</a></p></li>
<li><p><a class="reference internal" href="#install-openmp-required" id="id17">Install OpenMP (<cite>Required</cite>)</a></p></li>
<li><p><a class="reference internal" href="#install-openblas" id="id18">OpenBLAS (<cite>Optional</cite>)</a></p></li>
<li><p><a class="reference internal" href="#install-cuda-compiler-optional" id="id19">Install CUDA Compiler (<cite>Optional</cite>)</a></p></li>
<li><p><a class="reference internal" href="#load-cuda-compiler-on-gpu-cluster-optional" id="id20">Load CUDA Compiler on GPU Cluster (<cite>Optional</cite>)</a></p></li>
<li><p><a class="reference internal" href="#configure-compile-time-environment-variables-optional" id="id21">Configure Compile-Time Environment Variables (<cite>Optional</cite>)</a></p></li>
<li><p><a class="reference internal" href="#compile-and-install" id="id22">Compile and Install</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#compile-documentation" id="id23">Compile Documentation</a></p></li>
<li><p><a class="reference internal" href="#test-with-pytest" id="id24">Test with <code class="docutils literal notranslate"><span class="pre">pytest</span></code></a></p></li>
</ul>
</li>
</ul>
</div>
<section id="install-project-from-wheels">
<h2><a class="toc-backref" href="#id4"><span class="section-number">1.1. </span>Install <span class="synco">imate</span> From Wheels</a><a class="headerlink" href="#install-project-from-wheels" title="Permalink to this headline">#</a></h2>
<p>Python wheels for <span class="synco">imate</span> are available for various operating systems and Python versions on both PyPI and Anaconda Cloud.</p>
<section id="install-with-pip">
<h3><a class="toc-backref" href="#id5"><span class="section-number">1.1.1. </span>Install with <code class="docutils literal notranslate"><span class="pre">pip</span></code></a><a class="headerlink" href="#install-with-pip" title="Permalink to this headline">#</a></h3>
<p><img alt="pypi" src="https://img.shields.io/pypi/v/imate" /></p>
<p>Install <span class="synco">imate</span> and its Python dependencies through <a class="reference external" href="https://pypi.org/project/imate">PyPI</a> by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">python -m pip install --upgrade pip</span>
<span class="prompt1">python -m pip install imate</span>
</pre></div></div></section>
<section id="install-with-conda">
<h3><a class="toc-backref" href="#id6"><span class="section-number">1.1.2. </span>Install with <code class="docutils literal notranslate"><span class="pre">conda</span></code></a><a class="headerlink" href="#install-with-conda" title="Permalink to this headline">#</a></h3>
<p><a class="reference external" href="https://anaconda.org/s-ameli/imate"><img alt="conda-version" src="https://img.shields.io/conda/v/s-ameli/imate" /></a></p>
<p>Alternately, install <span class="synco">imate</span> and its Python dependencies from <a class="reference external" href="https://anaconda.org/s-ameli/imate">Anaconda Cloud</a> by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda install -c s-ameli imate -y</span>
</pre></div></div></section>
</section>
<section id="install-project-in-virtual-environments">
<span id="virtual-env"></span><h2><a class="toc-backref" href="#id7"><span class="section-number">1.2. </span>Install <span class="synco">imate</span> in Virtual Environments</a><a class="headerlink" href="#install-project-in-virtual-environments" title="Permalink to this headline">#</a></h2>
<p>If you do not want the installation to occupy your main pythonâ€™s site-packages (either you are testing or the dependencies may clutter your existing installed packages), install the package in an isolated virtual environment. Two common virtual environments are <a class="reference internal" href="#virtualenv-env"><span class="std std-ref">virtualenv</span></a> and <a class="reference internal" href="#conda-env"><span class="std std-ref">conda</span></a>.</p>
<section id="install-in-virtualenv-environment">
<span id="virtualenv-env"></span><h3><a class="toc-backref" href="#id8"><span class="section-number">1.2.1. </span>Install in <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code> Environment</a><a class="headerlink" href="#install-in-virtualenv-environment" title="Permalink to this headline">#</a></h3>
<ol class="arabic">
<li><p>Install <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python -m pip install virtualenv</span>
</pre></div></div></li>
<li><p>Create a virtual environment and give it a name, such as <code class="docutils literal notranslate"><span class="pre">imate_env</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python -m virtualenv imate_env</span>
</pre></div></div></li>
<li><p>Activate python in the new environment</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">source</span> imate_env/bin/activate</span>
</pre></div></div></li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">imate</span></code> package with any of the <a class="reference internal" href="#install-wheels"><span class="std std-ref">above methods</span></a>. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python -m pip install imate</span>
</pre></div></div><p>Then, use the package in this environment.</p>
</li>
<li><p>To exit from the environment</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">deactivate</span>
</pre></div></div></li>
</ol>
</section>
<section id="install-in-conda-environment">
<span id="conda-env"></span><h3><a class="toc-backref" href="#id9"><span class="section-number">1.2.2. </span>Install in <code class="docutils literal notranslate"><span class="pre">conda</span></code> Environment</a><a class="headerlink" href="#install-in-conda-environment" title="Permalink to this headline">#</a></h3>
<p>In the followings, it is assumed <a class="reference external" href="https://www.anaconda.com/products/individual#Downloads">anaconda</a> (or <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">miniconda</a>) is installed.</p>
<ol class="arabic">
<li><p>Initialize conda</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda init</span>
</pre></div></div><p>You may need to close and reopen terminal after the above command. Alternatively, instead of the above, you can do</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo sh <span class="k">$(</span>conda info --root<span class="k">)</span>/etc/profile.d/conda.sh</span>
</pre></div></div></li>
<li><p>Create a virtual environment and give it a name, such as <code class="docutils literal notranslate"><span class="pre">imate_env</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda create --name imate_env -y</span>
</pre></div></div><p>The command <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">info</span> <span class="pre">--envs</span></code> shows the list of all environments. The current environment is marked by an asterisk in the list, which should be the default environment at this stage. In the next step, we will change the current environment to the one we created.</p>
</li>
<li><p>Activate the new environment</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">source</span> activate imate_env</span>
</pre></div></div></li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">imate</span></code> with any of the <a class="reference internal" href="#install-wheels"><span class="std std-ref">above methods</span></a>. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda install -c s-ameli imate</span>
</pre></div></div><p>Then, use the package in this environment.</p>
</li>
<li><p>To exit from the environment</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda deactivate</span>
</pre></div></div></li>
</ol>
</section>
</section>
<section id="optional-runtime-dependencies">
<span id="compile-imate"></span><h2><a class="toc-backref" href="#id10"><span class="section-number">1.3. </span>Optional Runtime Dependencies</a><a class="headerlink" href="#optional-runtime-dependencies" title="Permalink to this headline">#</a></h2>
<p>Runtime libraries are not required to present during the installation of <span class="synco">imate</span>. However, they may be required to be installed during running <span class="synco">imate</span>.</p>
<section id="cuda-toolkit-and-nvidia-graphic-driver-optional">
<h3><a class="toc-backref" href="#id11"><span class="section-number">1.3.1. </span>CUDA Toolkit and NVIDIA Graphic Driver (<cite>Optional</cite>)</a><a class="headerlink" href="#cuda-toolkit-and-nvidia-graphic-driver-optional" title="Permalink to this headline">#</a></h3>
<p>To use GPU devices, install NVIDIA Graphic Driver and CUDA Toolkit. See instructions below.</p>
<ul class="simple">
<li><p><a class="reference internal" href="gpu.html#install-graphic-driver"><span class="std std-ref">Install NVIDIA Graphic Driver</span></a>.</p></li>
<li><p><a class="reference internal" href="gpu.html#install-cuda-toolkit"><span class="std std-ref">Install CUDA Toolkit</span></a>.</p></li>
</ul>
</section>
<section id="sparse-suite-optional">
<h3><a class="toc-backref" href="#id12"><span class="section-number">1.3.2. </span>Sparse Suite (<cite>Optional</cite>)</a><a class="headerlink" href="#sparse-suite-optional" title="Permalink to this headline">#</a></h3>
<p><a class="reference external" href="https://people.engr.tamu.edu/davis/suitesparse.html">Suite Sarse</a> is a library for efficient calculations on sparse matrices. <span class="synco">imate</span> does not require this library as it has its own library for sparse matrices. However, if this library is available, <span class="synco">imate</span> uses it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Sparse Suite library is only used for those functions in <span class="synco">imate</span> that uses Cholesky decomposition method by passing <code class="docutils literal notranslate"><span class="pre">method=cholesky</span></code> argument to the functions. See <a class="reference internal" href="../api.html#functions"><span class="std std-ref">API reference for Functions</span></a> for details.</p>
</div>
<ol class="arabic">
<li><p>Install Sparse Suite development library by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="8fca1af1-319d-4e6f-9cdf-7cce59435cf9" name="8301a20a-c12e-419f-bd9c-7bf45ec4a080" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="8fca1af1-319d-4e6f-9cdf-7cce59435cf9">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt install libsuitesparse-dev</span>
</pre></div></div></div>
<input id="58607501-c9fd-423b-b047-13a9427748c8" name="8301a20a-c12e-419f-bd9c-7bf45ec4a080" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="58607501-c9fd-423b-b047-13a9427748c8">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum install libsuitesparse-devel</span>
</pre></div></div></div>
<input id="8977cad6-85bf-42a4-af22-809062ec2722" name="8301a20a-c12e-419f-bd9c-7bf45ec4a080" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="8977cad6-85bf-42a4-af22-809062ec2722">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf install libsuitesparse-devel</span>
</pre></div></div></div>
<input id="6c6bcf41-c0bf-4a28-80e5-fdab478090d3" name="8301a20a-c12e-419f-bd9c-7bf45ec4a080" type="radio">
</input><label class="sd-tab-label" data-sync-id="osx" for="6c6bcf41-c0bf-4a28-80e5-fdab478090d3">
macOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo brew install suite-sparse</span>
</pre></div></div></div>
</div>
<p>Alternatively, if you are using <em>Anaconda</em> python distribution (on either of the operating systems), install Suite Sparse by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo conda install -c conda-forge suitesparse</span>
</pre></div></div></li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">scikit-sparse</span></code> python package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python -m pip install scikit-sparse</span>
</pre></div></div></li>
</ol>
</section>
<section id="openblas-optional">
<h3><a class="toc-backref" href="#id13"><span class="section-number">1.3.3. </span>OpenBLAS (<cite>Optional</cite>)</a><a class="headerlink" href="#openblas-optional" title="Permalink to this headline">#</a></h3>
<p><a class="reference external" href="https://www.openblas.net/">OpenBLAS</a> is a library for efficient dense matrix operations. <span class="synco">imate</span> does not require this library as it has its own library for dense matrices. However, if you compiled <span class="synco">imate</span> to use OpenBLAS (see <a class="reference internal" href="#compile-imate"><span class="std std-ref">Compile from Source</span></a>), OpenBLAS library should be available at runtime.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A default installation of <span class="synco">imate</span> through <code class="docutils literal notranslate"><span class="pre">pip</span></code> or <code class="docutils literal notranslate"><span class="pre">conda</span></code> does not use OpenBLAS, and you may skip this section.</p>
</div>
<p>Install OpenBLAS library by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="e2ea7e2e-9090-45e4-8cb0-f00bb7fa5de9" name="7656dfe0-74ee-4ab4-ad87-983921eb8b85" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="e2ea7e2e-9090-45e4-8cb0-f00bb7fa5de9">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt-get install libopenblas-dev</span>
</pre></div></div></div>
<input id="7ee77706-61e6-48cc-a570-f02482abb833" name="7656dfe0-74ee-4ab4-ad87-983921eb8b85" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="7ee77706-61e6-48cc-a570-f02482abb833">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum install openblas-devel</span>
</pre></div></div></div>
<input id="56b594ab-f5eb-4a17-8ddb-38ff8e47b0b0" name="7656dfe0-74ee-4ab4-ad87-983921eb8b85" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="56b594ab-f5eb-4a17-8ddb-38ff8e47b0b0">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf install openblas-devel</span>
</pre></div></div></div>
<input id="1850ae70-9e49-437e-ad78-3d29a3da57b8" name="7656dfe0-74ee-4ab4-ad87-983921eb8b85" type="radio">
</input><label class="sd-tab-label" data-sync-id="osx" for="1850ae70-9e49-437e-ad78-3d29a3da57b8">
macOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo brew install openblas</span>
</pre></div></div></div>
</div>
<p>Alternatively, you can install OpenBLAS using <code class="docutils literal notranslate"><span class="pre">conda</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda install -c anaconda openblas</span>
</pre></div></div></section>
</section>
<section id="compile-from-source">
<span id="install-wheels"></span><h2><a class="toc-backref" href="#id14"><span class="section-number">1.4. </span>Compile from Source</a><a class="headerlink" href="#compile-from-source" title="Permalink to this headline">#</a></h2>
<section id="when-to-compile-project">
<h3><a class="toc-backref" href="#id15"><span class="section-number">1.4.1. </span>When to Compile <span class="synco">imate</span></a><a class="headerlink" href="#when-to-compile-project" title="Permalink to this headline">#</a></h3>
<p>Generally, it is not required to compile <span class="synco">imate</span> as the installation through <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">conda</span></code> contains most of its features, including support for GPU devices. You may compile <span class="synco">imate</span> if you want to:</p>
<ul class="simple">
<li><p>modify <span class="synco">imate</span>.</p></li>
<li><p>use <cite>OpenBLAS</cite> instead of the built-in matrix library of <span class="synco">imate</span>.</p></li>
<li><p>build <span class="synco">imate</span> for a <cite>specific version</cite> of CUDA Toolkit.</p></li>
<li><p>disable <cite>dynamic loading</cite> feature of <span class="synco">imate</span> for CUDA libraries.</p></li>
<li><p>enable <cite>debugging mode</cite>.</p></li>
<li><p>or, build this <cite>documentation</cite>.</p></li>
</ul>
<p>Otherwise, install <span class="synco">imate</span> through the <a class="reference internal" href="#install-wheels"><span class="std std-ref">Python Wheels</span></a>.</p>
<p>This section walks you through the compilation process.</p>
</section>
<section id="install-c-compiler-and-openmp-required">
<h3><a class="toc-backref" href="#id16"><span class="section-number">1.4.2. </span>Install C++ Compiler and OpenMP (<cite>Required</cite>)</a><a class="headerlink" href="#install-c-compiler-and-openmp-required" title="Permalink to this headline">#</a></h3>
<p>Compile <span class="synco">imate</span> with either of GCC, Clang/LLVM, or Intel C++ compiler on UNIX operating systems. For Windows, compile <span class="synco">imate</span> with <a class="reference external" href="https://code.visualstudio.com/docs/cpp/config-msvc#:~:text=You%20can%20install%20the%20C,the%20C%2B%2B%20workload%20is%20checked.">Microsoft Visual Studio (MSVC) Compiler for C++</a>.</p>
<p class="rubric">Install GNU GCC Compiler</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="5727147a-d6f2-49d6-88da-de3fda9fccb8" name="7bb2499b-d1ed-49dd-898a-db5bb6f08d89" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="5727147a-d6f2-49d6-88da-de3fda9fccb8">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt install build-essential</span>
</pre></div></div></div>
<input id="5137674e-571e-4d93-bb37-f1cb496f678b" name="7bb2499b-d1ed-49dd-898a-db5bb6f08d89" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="5137674e-571e-4d93-bb37-f1cb496f678b">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum group install <span class="s2">&quot;Development Tools&quot;</span></span>
</pre></div></div></div>
<input id="d53580b3-a9c9-4dc6-aebf-59bf2c4a7d58" name="7bb2499b-d1ed-49dd-898a-db5bb6f08d89" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="d53580b3-a9c9-4dc6-aebf-59bf2c4a7d58">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf group install <span class="s2">&quot;Development Tools&quot;</span></span>
</pre></div></div></div>
<input id="4aebe52b-45f7-43ee-af6b-200d0168a361" name="7bb2499b-d1ed-49dd-898a-db5bb6f08d89" type="radio">
</input><label class="sd-tab-label" data-sync-id="osx" for="4aebe52b-45f7-43ee-af6b-200d0168a361">
macOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo brew install gcc libomp</span>
</pre></div></div></div>
</div>
<p>Then, export <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">CXX</span></code> variables by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CC</span><span class="o">=</span>/usr/local/bin/gcc</span>
<span class="prompt1"><span class="nb">export</span> <span class="nv">CXX</span><span class="o">=</span>/usr/local/bin/g++</span>
</pre></div></div><p class="rubric">Install Clang/LLVN Compiler</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="2ed1d59d-9b46-4394-adb9-97f64eb388f6" name="c9e5bbff-44ba-444f-8e02-523127798d0c" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="2ed1d59d-9b46-4394-adb9-97f64eb388f6">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt install clang</span>
</pre></div></div></div>
<input id="13cf008b-ba66-4ccb-91ff-b6819f1f1dff" name="c9e5bbff-44ba-444f-8e02-523127798d0c" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="13cf008b-ba66-4ccb-91ff-b6819f1f1dff">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum install yum-utils</span>
<span class="prompt1">sudo yum-config-manager --enable extras</span>
<span class="prompt1">sudo yum makecache</span>
<span class="prompt1">sudo yum install clang</span>
</pre></div></div></div>
<input id="f8e252e7-c492-4e3c-8139-010a6b550e90" name="c9e5bbff-44ba-444f-8e02-523127798d0c" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="f8e252e7-c492-4e3c-8139-010a6b550e90">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf install yum-utils</span>
<span class="prompt1">sudo dnf config-manager --enable extras</span>
<span class="prompt1">sudo dnf makecache</span>
<span class="prompt1">sudo dnf install clang</span>
</pre></div></div></div>
<input id="a4733248-82ad-4e59-b316-334086160710" name="c9e5bbff-44ba-444f-8e02-523127798d0c" type="radio">
</input><label class="sd-tab-label" data-sync-id="osx" for="a4733248-82ad-4e59-b316-334086160710">
macOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo brew install llvm libomp-dev</span>
</pre></div></div></div>
</div>
<p>Then, export <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">CXX</span></code> variables by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CC</span><span class="o">=</span>/usr/local/bin/clang</span>
<span class="prompt1"><span class="nb">export</span> <span class="nv">CXX</span><span class="o">=</span>/usr/local/bin/clang++</span>
</pre></div></div><p class="rubric">Install Intel oneAPI Compiler</p>
<p>To install <cite>Intel Compiler</cite> see <a class="reference external" href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/base-toolkit-download.html?operatingsystem=linux&amp;distributions=aptpackagemanager">Intel oneAPI Base Toolkit</a>.</p>
</section>
<section id="install-openmp-required">
<h3><a class="toc-backref" href="#id17"><span class="section-number">1.4.3. </span>Install OpenMP (<cite>Required</cite>)</a><a class="headerlink" href="#install-openmp-required" title="Permalink to this headline">#</a></h3>
<p>OpenMP comes with the C++ compiler installed in the above. However, you may alternatively install it directly on UNIX. Install <cite>OpenMP</cite> library on UNIX as follows:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="1d3cfdd2-bb24-4f9c-8750-fae9e8f3a0f6" name="18265878-a19a-4cf4-85c3-48b4c9587661" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="1d3cfdd2-bb24-4f9c-8750-fae9e8f3a0f6">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt install libgomp1 -y</span>
</pre></div></div></div>
<input id="f294df55-16e1-4a6a-a9df-c0d91be73e29" name="18265878-a19a-4cf4-85c3-48b4c9587661" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="f294df55-16e1-4a6a-a9df-c0d91be73e29">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum install libgomp -y</span>
</pre></div></div></div>
<input id="6a37f384-5fb7-4cb8-b0b9-6d902703449c" name="18265878-a19a-4cf4-85c3-48b4c9587661" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="6a37f384-5fb7-4cb8-b0b9-6d902703449c">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf install libgomp -y</span>
</pre></div></div></div>
<input id="7007f5c1-17ff-4de8-8e0d-9a1d25ed0f96" name="18265878-a19a-4cf4-85c3-48b4c9587661" type="radio">
</input><label class="sd-tab-label" data-sync-id="osx" for="7007f5c1-17ff-4de8-8e0d-9a1d25ed0f96">
macOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo brew install libomp</span>
</pre></div></div></div>
</div>
</section>
<section id="install-openblas">
<span id="id2"></span><h3><a class="toc-backref" href="#id18"><span class="section-number">1.4.4. </span>OpenBLAS (<cite>Optional</cite>)</a><a class="headerlink" href="#install-openblas" title="Permalink to this headline">#</a></h3>
<p><span class="synco">imate</span> can be compiled with and without OpenBLAS. If you are compiling <span class="synco">imate</span> with OpenBLAS, install OpenBLAS library by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="682cce7a-6643-48fb-9a2b-1026ea79687b" name="33e89445-0872-44cb-9767-2ceb16fe4b1e" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="682cce7a-6643-48fb-9a2b-1026ea79687b">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt-get install libopenblas-dev</span>
</pre></div></div></div>
<input id="f4cc1636-846f-4381-ab37-d9499359c056" name="33e89445-0872-44cb-9767-2ceb16fe4b1e" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="f4cc1636-846f-4381-ab37-d9499359c056">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum install openblas-devel</span>
</pre></div></div></div>
<input id="b9cdb361-e4ca-451c-8957-3cb495165a50" name="33e89445-0872-44cb-9767-2ceb16fe4b1e" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="b9cdb361-e4ca-451c-8957-3cb495165a50">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf install openblas-devel</span>
</pre></div></div></div>
<input id="28c8310c-4a8e-48d4-81c0-91b6f9dfeb79" name="33e89445-0872-44cb-9767-2ceb16fe4b1e" type="radio">
</input><label class="sd-tab-label" data-sync-id="osx" for="28c8310c-4a8e-48d4-81c0-91b6f9dfeb79">
macOS</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo brew install openblas</span>
</pre></div></div></div>
</div>
<p>Alternatively, you can install OpenBLAS using <code class="docutils literal notranslate"><span class="pre">conda</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">conda install -c anaconda openblas</span>
</pre></div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>To build <span class="synco">imate</span> with OpenBLAS, you should also set <code class="docutils literal notranslate"><span class="pre">USE_CBLAS</span></code> environment variable as described in <a class="reference internal" href="#config-env-variables"><span class="std std-ref">Configure Compile-Time Environment Variables</span></a>.</p>
</div>
</section>
<section id="install-cuda-compiler-optional">
<span id="install-cuda"></span><h3><a class="toc-backref" href="#id19"><span class="section-number">1.4.5. </span>Install CUDA Compiler (<cite>Optional</cite>)</a><a class="headerlink" href="#install-cuda-compiler-optional" title="Permalink to this headline">#</a></h3>
<p>To use <span class="synco">imate</span> on GPU devices, it should be compiled with CUDA compiler. Skip this part if you are not using GPU.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The minimum version of CUDA to compile <span class="synco">imate</span> is <cite>CUDA 10.0</cite>.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>NVIDIA does not support macOS. You can install NVIDIA CUDA Toolkit on Linux and Windows only.</p>
</div>
<p>It is not required to install the entire CUDA Toolkit. Install only the CUDA compiler and the development libraries of cuBLAS and cuSparse by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="dab3b97f-77d2-4a09-957e-e54c3cebb9bd" name="34209a89-6d58-4a72-9fd0-2c4cb1c504d2" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="dab3b97f-77d2-4a09-957e-e54c3cebb9bd">
Ubuntu/Debian</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo apt install -y <span class="se">\</span>
    cuda-nvcc-11-7 <span class="se">\</span>
    libcublas-11-7 <span class="se">\</span>
    libcublas-dev-11-7 <span class="se">\</span>
    libcusparse-11-7 -y <span class="se">\</span>
    libcusparse-dev-11-7</span>
</pre></div></div></div>
<input id="4322e4ce-e007-4334-a0ae-e616ebcf75d7" name="34209a89-6d58-4a72-9fd0-2c4cb1c504d2" type="radio">
</input><label class="sd-tab-label" data-sync-id="centos" for="4322e4ce-e007-4334-a0ae-e616ebcf75d7">
CentOS 7</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo yum install --setopt<span class="o">=</span><span class="nv">obsoletes</span><span class="o">=</span><span class="m">0</span> -y <span class="se">\</span>
    cuda-nvcc-11-7.x86_64 <span class="se">\</span>
    cuda-cudart-devel-11-7.x86_64 <span class="se">\</span>
    libcublas-11-7.x86_64 <span class="se">\</span>
    libcublas-devel-11-7.x86_64 <span class="se">\</span>
    libcusparse-11-7.x86_64 <span class="se">\</span>
    libcusparse-devel-11-7.x86_64</span>
</pre></div></div></div>
<input id="d2d918b5-5bad-4f36-8ecd-97b0c0f78f27" name="34209a89-6d58-4a72-9fd0-2c4cb1c504d2" type="radio">
</input><label class="sd-tab-label" data-sync-id="rhel" for="d2d918b5-5bad-4f36-8ecd-97b0c0f78f27">
RHEL 9</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">sudo dnf install --setopt<span class="o">=</span><span class="nv">obsoletes</span><span class="o">=</span><span class="m">0</span> -y <span class="se">\</span>
    cuda-nvcc-11-7.x86_64 <span class="se">\</span>
    cuda-cudart-devel-11-7.x86_64 <span class="se">\</span>
    libcublas-11-7.x86_64 <span class="se">\</span>
    libcublas-devel-11-7.x86_64 <span class="se">\</span>
    libcusparse-11-7.x86_64 <span class="se">\</span>
    libcusparse-devel-11-7.x86_64</span>
</pre></div></div></div>
</div>
<p>Update <code class="docutils literal notranslate"><span class="pre">PATH</span></code> with the CUDA installation location by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">echo</span> <span class="s1">&#39;export PATH=/usr/local/cuda/bin${PATH:+:${PATH}}&#39;</span> &gt;&gt; ~/.bashrc</span>
<span class="prompt1"><span class="nb">source</span> ~/.bashrc</span>
</pre></div></div><p>Check if the CUDA compiler is available with <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">nvcc</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To build <span class="synco">imate</span> with CUDA, you should also set <code class="docutils literal notranslate"><span class="pre">CUDA_HOME</span></code>, <code class="docutils literal notranslate"><span class="pre">USE_CUDA</span></code>, and optionally set <code class="docutils literal notranslate"><span class="pre">CUDA_DYNAMIC_LOADING</span></code> environment variabls as described in <a class="reference internal" href="#config-env-variables"><span class="std std-ref">Configure Compile-Time Environment Variables</span></a>.</p>
</div>
</section>
<section id="load-cuda-compiler-on-gpu-cluster-optional">
<h3><a class="toc-backref" href="#id20"><span class="section-number">1.4.6. </span>Load CUDA Compiler on GPU Cluster (<cite>Optional</cite>)</a><a class="headerlink" href="#load-cuda-compiler-on-gpu-cluster-optional" title="Permalink to this headline">#</a></h3>
<p>This section is relevant if you are using GPU on a cluster, and skip this section otherwise.</p>
<p>On a GPU cluster, chances are the CUDA Toolkit is already installed. If the cluster uses <code class="docutils literal notranslate"><span class="pre">module</span></code> interface, load CUDA as follows.</p>
<p>First, check if a CUDA module is available by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">module avail</span>
</pre></div></div><p>Load both CUDA and GCC by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">module load cuda gcc</span>
</pre></div></div><p>You may specify CUDA version if multiple CUDA versions are available, such as by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">module load cuda/11.7 gcc/6.3</span>
</pre></div></div><p>You may check if CUDA Compiler is available with <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">nvcc</span></code>.</p>
</section>
<section id="configure-compile-time-environment-variables-optional">
<span id="config-env-variables"></span><h3><a class="toc-backref" href="#id21"><span class="section-number">1.4.7. </span>Configure Compile-Time Environment Variables (<cite>Optional</cite>)</a><a class="headerlink" href="#configure-compile-time-environment-variables-optional" title="Permalink to this headline">#</a></h3>
<p>Set the following environment variables as desired to configure the compilation process.</p>
<dl class="glossary">
<dt id="term-CUDA_HOME-CUDA_PATH-CUDA_ROOT"><code class="docutils literal notranslate"><span class="pre">CUDA_HOME</span></code>, <code class="docutils literal notranslate"><span class="pre">CUDA_PATH</span></code>, <code class="docutils literal notranslate"><span class="pre">CUDA_ROOT</span></code><a class="headerlink" href="#term-CUDA_HOME-CUDA_PATH-CUDA_ROOT" title="Permalink to this term">#</a></dt><dd><p>These variables are relevant only if you are compiling with CUDA compiler. <a class="reference internal" href="#install-cuda"><span class="std std-ref">Install CUDA Toolkit</span></a> and specify the home directory of CUDA Toolkit by setting either of these variables. The home directory should be a path containing the executable <code class="docutils literal notranslate"><span class="pre">/bin/nvcc</span></code> (or <code class="docutils literal notranslate"><span class="pre">\bin\nvcc.exe</span></code> on Windows). For instance, if <code class="docutils literal notranslate"><span class="pre">/usr/local/cuda/bin/nvcc</span></code> exists, export the following:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="e766ec01-8d10-4386-bdb9-043779aa5d4f" name="a0cac8f5-e2fe-427f-9524-89f47ca60383" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="e766ec01-8d10-4386-bdb9-043779aa5d4f">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CUDA_HOME</span><span class="o">=</span>/usr/local/cuda</span>
</pre></div></div></div>
<input id="6a1e113b-505f-4e7d-821d-fb7432de8cfc" name="a0cac8f5-e2fe-427f-9524-89f47ca60383" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="6a1e113b-505f-4e7d-821d-fb7432de8cfc">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt2:before {
  content: "PS C:\\> ";
}
</style><span class="prompt2"><span class="nv">$env:export</span> <span class="n">CUDA_HOME</span> <span class="p">=</span> <span class="s2">&quot;C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.7&quot;</span></span>
</pre></div></div></div>
</div>
</dd>
<dt id="term-USE_CUDA"><code class="docutils literal notranslate"><span class="pre">USE_CUDA</span></code><a class="headerlink" href="#term-USE_CUDA" title="Permalink to this term">#</a></dt><dd><p>This variable is relevant only if you are compiling with CUDA compiler. By default, this variable is set to <cite>0</cite>. To compile <span class="synco">imate</span> with CUDA, <a class="reference internal" href="#install-cuda"><span class="std std-ref">install CUDA Toolkit</span></a> and set this variable to <cite>1</cite> by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="95972ec0-7d13-4883-9c93-6504a153d02e" name="6afef227-6a0f-4fda-a0a6-3cd48e572bf6" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="95972ec0-7d13-4883-9c93-6504a153d02e">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">USE_CUDA</span><span class="o">=</span><span class="m">1</span></span>
</pre></div></div></div>
<input id="846fca26-8079-4683-b414-3e429938766d" name="6afef227-6a0f-4fda-a0a6-3cd48e572bf6" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="846fca26-8079-4683-b414-3e429938766d">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">USE_CUDA</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
</pre></div></div></div>
</div>
</dd>
<dt id="term-CUDA_DYNAMIC_LOADING"><code class="docutils literal notranslate"><span class="pre">CUDA_DYNAMIC_LOADING</span></code><a class="headerlink" href="#term-CUDA_DYNAMIC_LOADING" title="Permalink to this term">#</a></dt><dd><p>This variable is relevant only if you are compiling with CUDA compiler. By default, this variable is set to <cite>0</cite>.  When <span class="synco">imate</span> is complied with CUDA, the CUDA runtime libraries bundle with the final installation of <span class="synco">imate</span> package, making it over 700MB. While this is generally not an issue for most users, often a small package is preferable if the installed package has to be distributed to other machines. To this end, enable the custom-made <cite>dynamic loading</cite> feature of <span class="synco">imate</span>. In this case, the CUDA libraries will not bundle with the <span class="synco">imate</span> installation, rather, <span class="synco">imate</span> is instructed to load the existing CUDA libraries of the host machine at runtime. To enable dynamic loading, make sure <a class="reference internal" href="#install-cuda"><span class="std std-ref">CUDA Toolkit</span></a> is installed, then set this variable to <cite>1</cite> by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="aa21b44d-6d66-43b4-ad82-521d3614934d" name="c41d6fce-3f62-404f-9f41-b66a0b8048d0" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="aa21b44d-6d66-43b4-ad82-521d3614934d">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CUDA_DYNAMIC_LOADING</span><span class="o">=</span><span class="m">1</span></span>
</pre></div></div></div>
<input id="68899309-6421-4f37-86a1-c8de314f06c9" name="c41d6fce-3f62-404f-9f41-b66a0b8048d0" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="68899309-6421-4f37-86a1-c8de314f06c9">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">CUDA_DYNAMIC_LOADING</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
</pre></div></div></div>
</div>
</dd>
<dt id="term-CYTHON_BUILD_IN_SOURCE"><code class="docutils literal notranslate"><span class="pre">CYTHON_BUILD_IN_SOURCE</span></code><a class="headerlink" href="#term-CYTHON_BUILD_IN_SOURCE" title="Permalink to this term">#</a></dt><dd><p>By default, this variable is set to <cite>0</cite>, in which the compilation process generates source files in outside of the source directry, in <code class="docutils literal notranslate"><span class="pre">/build</span></code> directry. When it is set to <cite>1</cite>, the build files are generated in source directory. To set this variable, run</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="abd70023-af8c-490f-b551-548d3a796c46" name="0990e1e0-fc78-4d0b-9d2a-d65763a865b0" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="abd70023-af8c-490f-b551-548d3a796c46">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CYTHON_BUILD_IN_SOURCE</span><span class="o">=</span><span class="m">1</span></span>
</pre></div></div></div>
<input id="10535260-faf1-4521-bfeb-39e7faadc6ac" name="0990e1e0-fc78-4d0b-9d2a-d65763a865b0" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="10535260-faf1-4521-bfeb-39e7faadc6ac">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">CYTHON_BUILD_IN_SOURCE</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
</pre></div></div></div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>If you generated the source files inside the source directory by setting this variable, and later you wanted to clean them, see <a class="reference internal" href="#clean-files"><span class="std std-ref">Clean Compilation Files</span></a>.</p>
</div>
</dd>
<dt id="term-CYTHON_BUILD_FOR_DOC"><code class="docutils literal notranslate"><span class="pre">CYTHON_BUILD_FOR_DOC</span></code><a class="headerlink" href="#term-CYTHON_BUILD_FOR_DOC" title="Permalink to this term">#</a></dt><dd><p>Set this variable if you are building this documentation. By default, this variable is set to <cite>0</cite>. When it is set to <cite>1</cite>, the package will be built suitable for generating the documentation. To set this variable, run</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="8b8e5d03-42e2-4f41-83f0-452fc1b75fc1" name="63414979-c23e-4f44-ba26-c082b95389fd" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="8b8e5d03-42e2-4f41-83f0-452fc1b75fc1">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CYTHON_BUILD_FOR_DOC</span><span class="o">=</span><span class="m">1</span></span>
</pre></div></div></div>
<input id="7305c310-211e-4a1c-857b-ada22650cb56" name="63414979-c23e-4f44-ba26-c082b95389fd" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="7305c310-211e-4a1c-857b-ada22650cb56">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">CYTHON_BUILD_FOR_DOC</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
</pre></div></div></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not use this option to build the package for <cite>production</cite> (release) as it has a slower performance. Building the package by enabling this variable is only sitable for generting the documentation.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>By enabling this variable, the build will be <cite>in-source</cite>, similar to setting <code class="docutils literal notranslate"><span class="pre">CYTHON_BUILD_IN_SOURCE=1</span></code>. To clean the source directory from the generated files, see <a class="reference internal" href="#clean-files"><span class="std std-ref">Clean Compilation Files</span></a>.</p>
</div>
</dd>
<dt id="term-USE_CBLAS"><code class="docutils literal notranslate"><span class="pre">USE_CBLAS</span></code><a class="headerlink" href="#term-USE_CBLAS" title="Permalink to this term">#</a></dt><dd><p>By default, this variable is set to <cite>0</cite>. Set this variable to <cite>1</cite> if you want to use OpenBLAS instead of the built-in library of <span class="synco">imate</span>. <a class="reference internal" href="#install-openblas"><span class="std std-ref">Install OpenBLAS</span></a> and set by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="f37387ee-b953-4dfb-b28a-186c3f025306" name="17f4df7e-44f8-4752-a16c-ee45996c243a" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="f37387ee-b953-4dfb-b28a-186c3f025306">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">USE_CBLAS</span><span class="o">=</span><span class="m">1</span></span>
</pre></div></div></div>
<input id="40c4385c-2263-4de5-9731-ca345e93a6f8" name="17f4df7e-44f8-4752-a16c-ee45996c243a" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="40c4385c-2263-4de5-9731-ca345e93a6f8">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">USE_CBLAS</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
</pre></div></div></div>
</div>
</dd>
<dt id="term-DEBUG_MODE"><code class="docutils literal notranslate"><span class="pre">DEBUG_MODE</span></code><a class="headerlink" href="#term-DEBUG_MODE" title="Permalink to this term">#</a></dt><dd><p>By default, this variable is set to <cite>0</cite>, meaning that <span class="synco">imate</span> is compiled without debugging mode enabled. By enabling debug mode, you can debug the code with tools such as <code class="docutils literal notranslate"><span class="pre">gdb</span></code>. Set this variable to <cite>1</cite> to enable debugging mode by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="147ba4b2-0ade-4f90-9d32-33a0a2f420ab" name="9e2b25d9-3d61-49fe-a601-c749e1b23d13" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="147ba4b2-0ade-4f90-9d32-33a0a2f420ab">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">DEBUG_MODE</span><span class="o">=</span><span class="m">1</span></span>
</pre></div></div></div>
<input id="16e4b278-f2a4-412d-9680-b1ca1e0a97ca" name="9e2b25d9-3d61-49fe-a601-c749e1b23d13" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="16e4b278-f2a4-412d-9680-b1ca1e0a97ca">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">DEBUG_MODE</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
</pre></div></div></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>With the debugging mode enabled, the size of the package will be larger and its performance may be slower, which is not suitable for <cite>production</cite>.</p>
</div>
</dd>
</dl>
</section>
<section id="compile-and-install">
<h3><a class="toc-backref" href="#id22"><span class="section-number">1.4.8. </span>Compile and Install</a><a class="headerlink" href="#compile-and-install" title="Permalink to this headline">#</a></h3>
<p><a class="reference external" href="https://github.com/ameli/imate"><img alt="repo-size" src="https://img.shields.io/github/repo-size/ameli/imate" /></a></p>
<p>Get the source code of <span class="synco">imate</span> from the Github repository by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">git clone https://github.com/ameli/imate.git</span>
<span class="prompt1"><span class="nb">cd</span> imate</span>
</pre></div></div><p>To compile and install, run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python setup.py install</span>
</pre></div></div><p>The above command may need <code class="docutils literal notranslate"><span class="pre">sudo</span></code> privilege.</p>
<p class="rubric">A Note on Using <code class="docutils literal notranslate"><span class="pre">sudo</span></code></p>
<p>If you are using <code class="docutils literal notranslate"><span class="pre">sudo</span></code> for the above command, add <code class="docutils literal notranslate"><span class="pre">-E</span></code> option to <code class="docutils literal notranslate"><span class="pre">sudo</span></code> to make sure the environment variables (if you have set any) are accessible to the root user. For instance</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="7c1586dd-9c2e-45e3-bba9-57d4551158c3" name="d9c6c416-ac66-4706-94e8-58b1d3a0f585" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="7c1586dd-9c2e-45e3-bba9-57d4551158c3">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CUDA_HOME</span><span class="o">=</span>/usr/local/cuda
<span class="nb">export</span> <span class="nv">USE_CUDA</span><span class="o">=</span><span class="m">1</span>
<span class="nb">export</span> <span class="nv">CUDA_DYNAMIC_LOADING</span><span class="o">=</span><span class="m">1</span>

<span class="hll">sudo -E python setup.py install
</span></pre></div>
</div>
</div>
<input id="360749d6-52c2-4987-839b-c10d1a86fc2c" name="d9c6c416-ac66-4706-94e8-58b1d3a0f585" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="360749d6-52c2-4987-839b-c10d1a86fc2c">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="nv">$env:export</span> <span class="n">CUDA_HOME</span> <span class="p">=</span> <span class="s2">&quot;/usr/local/cuda&quot;</span>
<span class="nv">$env:export</span> <span class="n">USE_CUDA</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span>
<span class="nv">$env:export</span> <span class="n">CUDA_DYNAMIC_LOADING</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span>

<span class="hll"><span class="n">sudo</span> <span class="n">-E</span> <span class="n">python</span> <span class="n">setup</span><span class="p">.</span><span class="n">py</span> <span class="n">install</span>
</span></pre></div>
</div>
</div>
</div>
<p>Once the installation is completed, check the package can be loaded by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">cd</span> ..  <span class="c1"># do not load imate in the same directory of the source code</span></span>
<span class="prompt1">python -c <span class="s2">&quot;import imate; imate.info()&quot;</span></span>
</pre></div></div><p>The output to the above command should be similar to the following:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>imate version   : 0.15.0
processor       : Intel(R) Xeon(R) CPU E5-2623 v3 @ 3.00GHz
num threads     : 8
gpu device      : GeForce GTX 1080 Ti
num gpu devices : 4
cuda version    : 11.2.0
process memory  : 61.4 (Mb)
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do not load imate if your current working directory is the root directory of the source code of <span class="synco">imate</span>, since python cannot load the installed package properly. Always change the current direcotry to somewhere else (for example, <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">..</span></code> as shown in the above).</p>
</div>
<p class="rubric" id="clean-files">Cleaning Compilation Files</p>
<p>If you set <code class="docutils literal notranslate"><span class="pre">CYTHON_BUILD_IN_SOURCE</span></code> or <code class="docutils literal notranslate"><span class="pre">CYTHON_BUILD_FOR_DOC</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code>, the output files of Cythonâ€™s compiler will be generated inside the source code directories. To clean the source code from these files (<cite>optional</cite>), run the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python setup.py clean</span>
</pre></div></div></section>
</section>
<section id="compile-documentation">
<h2><a class="toc-backref" href="#id23"><span class="section-number">1.5. </span>Compile Documentation</a><a class="headerlink" href="#compile-documentation" title="Permalink to this headline">#</a></h2>
<p>To generate this documentation, you should build the package first.</p>
<p>Get the source code from Github repository.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">git clone https://github.com/ameli/imate.git</span>
<span class="prompt1"><span class="nb">cd</span> imate</span>
</pre></div></div><p>If you already had the source code, clean it from any previous build (especially if you built <cite>in-source</cite>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">python setup.py clean</span>
</pre></div></div><p>Compile and install the package as follows:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="3962cb77-4e01-4e0c-ae4d-67e3644ddc6b" name="b64db4b2-8b6d-4236-ac94-1cd79306f8cd" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="3962cb77-4e01-4e0c-ae4d-67e3644ddc6b">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">export</span> <span class="nv">CYTHON_BUILD_FOR_DOC</span><span class="o">=</span><span class="m">1</span></span>
<span class="prompt1"><span class="nb">export</span> <span class="nv">USE_CUDA</span><span class="o">=</span><span class="m">0</span></span>
<span class="prompt1">sudo -E python setup.py install</span>
</pre></div></div></div>
<input id="8ff42e70-80fd-4fef-accc-ce36c98401b8" name="b64db4b2-8b6d-4236-ac94-1cd79306f8cd" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="8ff42e70-80fd-4fef-accc-ce36c98401b8">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$env:export</span> <span class="n">CYTHON_BUILD_FOR_DOC</span> <span class="p">=</span> <span class="s2">&quot;1&quot;</span></span>
<span class="prompt2"><span class="nv">$env:export</span> <span class="n">USE_CUDA</span> <span class="p">=</span> <span class="s2">&quot;0&quot;</span></span>
<span class="prompt2"><span class="n">sudo</span> <span class="n">-E</span> <span class="n">python</span> <span class="n">setup</span><span class="p">.</span><span class="n">py</span> <span class="n">install</span></span>
</pre></div></div></div>
</div>
<p>Install the requirements</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nb">cd</span> docs</span>
<span class="prompt1">python -m pip install -r requirements.txt</span>
</pre></div></div><p>The above installs requirement packages in the Pythonâ€™s path directory. Make sure pythonâ€™s directory is on the <cite>PATH</cite>, for instance, by</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="fb2bd29a-7328-4baf-9453-6855e412cd90" name="2513836a-f8a2-46ac-89e2-75883fe55cce" type="radio">
</input><label class="sd-tab-label" data-sync-id="unix" for="fb2bd29a-7328-4baf-9453-6855e412cd90">
UNIX</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1"><span class="nv">PYTHON_PATH</span><span class="o">=</span><span class="sb">`</span>python -c <span class="s2">&quot;import os, sys; print(os.path.dirname(sys.executable))&quot;</span><span class="sb">`</span></span>
<span class="prompt1"><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PYTHON_PATH</span><span class="si">}</span>:<span class="nv">$PATH</span></span>
</pre></div></div></div>
<input id="97b5b12b-0d90-4d75-9d78-0556b4a49dc7" name="2513836a-f8a2-46ac-89e2-75883fe55cce" type="radio">
</input><label class="sd-tab-label" data-sync-id="win" for="97b5b12b-0d90-4d75-9d78-0556b4a49dc7">
Windows (Powershell)</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt2"><span class="nv">$PYTHON_PATH</span> <span class="p">=</span> <span class="p">(</span><span class="n">python</span> <span class="n">-c</span> <span class="s2">&quot;import os, sys; print(os.path.dirname(sys.executable))&quot;</span><span class="p">)</span></span>
<span class="prompt2"><span class="nv">$env:Path</span> <span class="p">+=</span> <span class="s2">&quot;;$PYTHON_PATH&quot;</span></span>
</pre></div></div></div>
</div>
<p>Now, build the documentation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">make clean html</span>
</pre></div></div><p>The main page of the documentation can be found in <code class="docutils literal notranslate"><span class="pre">/docs/build/html/index.html</span></code>.</p>
</section>
<section id="test-with-pytest">
<h2><a class="toc-backref" href="#id24"><span class="section-number">1.6. </span>Test with <code class="docutils literal notranslate"><span class="pre">pytest</span></code></a><a class="headerlink" href="#test-with-pytest" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://codecov.io/gh/ameli/imate"><img alt="codecov-devel" src="https://img.shields.io/codecov/c/github/ameli/imate" /></a></p>
<p>The package can be tested by running several <a class="reference external" href="https://github.com/ameli/imate/tree/main/tests">test scripts</a>, which tests all <a class="reference external" href="https://github.com/ameli/imate/tree/main/imate">sub-packages</a> and the <a class="reference external" href="https://github.com/ameli/imate/tree/main/examples">examples</a>.</p>
<p>Clone the source code from the repository and install the required test packages by</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">git clone https://github.com/ameli/imate.git</span>
<span class="prompt1"><span class="nb">cd</span> imate</span>
<span class="prompt1">python -m pip install -r tests/requirements.txt</span>
<span class="prompt1">python setup.py install</span>
</pre></div></div><p>To automatically run all tests, use <code class="docutils literal notranslate"><span class="pre">pytest</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="prompt1">mv imate imate-do-not-import</span>
<span class="prompt1">pytest</span>
</pre></div></div><div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>To use <code class="docutils literal notranslate"><span class="pre">pytest</span></code>, change the name of <code class="docutils literal notranslate"><span class="pre">/imate/imate</span></code> directory as shown in the above code. This causes <code class="docutils literal notranslate"><span class="pre">pytest</span></code> to properly import <span class="synco">imate</span> from the installed location, not from the source code directory.</p>
</div>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="../index.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title"><span class="synco">imate</span> Documentation</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="docker.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title"><span class="section-number">2. </span>Using <span class="synco">imate</span> on Docker</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, Siavash Ameli.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>