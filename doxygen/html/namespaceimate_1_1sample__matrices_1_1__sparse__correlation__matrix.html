<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>imate: imate.sample_matrices._sparse_correlation_matrix Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js", "TeX/AMSfonts.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/ameli/imate" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-imate-light.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">imate
   </div>
   <div id="projectbrief">C++/CUDA Reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">imate.sample_matrices._sparse_correlation_matrix Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed6b3a6512bc03277e77310fa5ccde00"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00">_ball_radius</a> (volume, dimension)</td></tr>
<tr class="separator:aed6b3a6512bc03277e77310fa5ccde00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3eb76f51fd5dd38e4aa3222ac1c93a5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#ad3eb76f51fd5dd38e4aa3222ac1c93a5">_estimate_kernel_threshold</a> (<a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#abf97d69347ee97bcd481a3e5fc952dc5">matrix_size</a>, dimension, density, scale, kernel, kernel_param)</td></tr>
<tr class="separator:ad3eb76f51fd5dd38e4aa3222ac1c93a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ec734668902458e231252e57796aaa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a46ec734668902458e231252e57796aaa">_estimate_max_nnz</a> (<a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#abf97d69347ee97bcd481a3e5fc952dc5">matrix_size</a>, dimension, density)</td></tr>
<tr class="separator:a46ec734668902458e231252e57796aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b3a16cded854e41425d2550d137d95"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a83b3a16cded854e41425d2550d137d95">sparse_correlation_matrix</a> (coords, scale=0.1, kernel='exponential', kernel_param=None, density=0.001, format=r 'csr', dtype=r 'float64', verbose=False)</td></tr>
<tr class="separator:a83b3a16cded854e41425d2550d137d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7ca42de708046d2c85bdea3a4cc63e8f"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a7ca42de708046d2c85bdea3a4cc63e8f">__all__</a> = ['<a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a83b3a16cded854e41425d2550d137d95">sparse_correlation_matrix</a>']</td></tr>
<tr class="separator:a7ca42de708046d2c85bdea3a4cc63e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b50a7e253165ef67ec21637506bc86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a17b50a7e253165ef67ec21637506bc86">thread_data</a></td></tr>
<tr class="separator:a17b50a7e253165ef67ec21637506bc86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d9682bb1a7c5b410e9c10a126d3a56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#af7d9682bb1a7c5b410e9c10a126d3a56">percent_update</a> = 20</td></tr>
<tr class="separator:af7d9682bb1a7c5b410e9c10a126d3a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60806b66a4a6944d461cb3bd9604e841"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a60806b66a4a6944d461cb3bd9604e841">chunk_size</a> = 1</td></tr>
<tr class="separator:a60806b66a4a6944d461cb3bd9604e841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf97d69347ee97bcd481a3e5fc952dc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#abf97d69347ee97bcd481a3e5fc952dc5">matrix_size</a></td></tr>
<tr class="separator:abf97d69347ee97bcd481a3e5fc952dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6150f88eff2b0bde96fa3e09b2abfcd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a6150f88eff2b0bde96fa3e09b2abfcd3">schedule</a></td></tr>
<tr class="separator:a6150f88eff2b0bde96fa3e09b2abfcd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfa2e07134719c8e798deef9fbfea08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a0cfa2e07134719c8e798deef9fbfea08">chunksize</a></td></tr>
<tr class="separator:a0cfa2e07134719c8e798deef9fbfea08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d140c3362c16ea2f3a3188521d70cd5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a1d140c3362c16ea2f3a3188521d70cd5">progress</a> = <a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#af7d9682bb1a7c5b410e9c10a126d3a56">percent_update</a> * counter[0] // \</td></tr>
<tr class="separator:a1d140c3362c16ea2f3a3188521d70cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed6b3a6512bc03277e77310fa5ccde00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed6b3a6512bc03277e77310fa5ccde00">&#9670;&nbsp;</a></span>_ball_radius()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def imate.sample_matrices._sparse_correlation_matrix._ball_radius </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>volume</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dimension</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Computes the radius of n-ball at dimension n, given its volume.

:param volume: Volume of n-ball
:type volume: double

:param dimension: Dimension of embedding space
:type dimension: int

:return: radius of n-ball
:rtype: double
</pre> 
<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00253">253</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keyword">def </span><a class="code" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00">_ball_radius</a>(volume, dimension):</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">    Computes the radius of n-ball at dimension n, given its volume.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral">    :param volume: Volume of n-ball</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="stringliteral">    :type volume: double</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="stringliteral">    :param dimension: Dimension of embedding space</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="stringliteral">    :type dimension: int</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">    :return: radius of n-ball</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral">    :rtype: double</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment"># Compute Gamma(dimension/2 + 1)</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> dimension % 2 == 0:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        k = 0.5 * dimension</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        gamma = 1.0</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">while</span> k &gt; 0.0:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            gamma *= k</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            k -= 1.0</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        k = numpy.ceil(0.5 * dimension)</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        gamma = numpy.sqrt(numpy.pi)</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">while</span> k &gt; 0.0:</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            gamma *= k - 0.5</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            k -= 1.0</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment"># radius from volume</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    radius = (gamma * volume)**(1.0 / dimension) / numpy.sqrt(numpy.pi)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordflow">return</span> radius</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment"># =========================</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"># estimate kernel threshold</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"># =========================</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="ttc" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_html_aed6b3a6512bc03277e77310fa5ccde00"><div class="ttname"><a href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00">imate.sample_matrices._sparse_correlation_matrix._ball_radius</a></div><div class="ttdeci">def _ball_radius(volume, dimension)</div><div class="ttdef"><b>Definition:</b> <a href="__sparse__correlation__matrix_8pyx_source.html#l00253">_sparse_correlation_matrix.pyx:253</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00297">imate.sample_matrices._sparse_correlation_matrix._estimate_kernel_threshold()</a>, and <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00414">imate.sample_matrices._sparse_correlation_matrix._estimate_max_nnz()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_aed6b3a6512bc03277e77310fa5ccde00_icgraph.png" border="0" usemap="#anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_aed6b3a6512bc03277e77310fa5ccde00_icgraph" alt=""/></div>
<map name="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_aed6b3a6512bc03277e77310fa5ccde00_icgraph" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_aed6b3a6512bc03277e77310fa5ccde00_icgraph">
<area shape="rect" title=" " alt="" coords="505,45,688,101"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#ad3eb76f51fd5dd38e4aa3222ac1c93a5" title=" " alt="" coords="275,5,457,61"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a46ec734668902458e231252e57796aaa" title=" " alt="" coords="275,85,457,141"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a83b3a16cded854e41425d2550d137d95" title=" " alt="" coords="5,45,227,101"/>
</map>
</div>

</div>
</div>
<a id="ad3eb76f51fd5dd38e4aa3222ac1c93a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3eb76f51fd5dd38e4aa3222ac1c93a5">&#9670;&nbsp;</a></span>_estimate_kernel_threshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def imate.sample_matrices._sparse_correlation_matrix._estimate_kernel_threshold </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matrix_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dimension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>density</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Estimates the kernel's tapering threshold to sparsify a dense matrix into a
sparse matrix with the requested density.

Here is how density :math:`\\rho` is related to the kernel_threshold
:math:`\\tau`:

.. math::

    a = \\rho n = \\mathrm{Vol}_{d}(r/l),
    \\tau = k(r),

where:

    * :math:`n` is the number of points in the unit hypercube, also it is
      the matrix size.
    * :math:`d` is the dimension of space.
    * :math:`\\mathrm{Vol}_{d}(r/l)` is the volume of d-ball of radius
      :math:`r/l`.
    * :math:`l = 1/(\\sqrt[d]{n} - 1)` is the grid size along each axis,
      assuming the points are places on an equi-distanced structured grid.
    * :math:`k` is the Matern correlation function.
    * :math:`a` is the adjacency of a point, which is the number of
      the neighbor points that are correlated to a point.
    * :math:`\\rho` is the sparse matrix density (input to this function).
    * :math:`\\tau` is the kernel threshold (output of this function).

The adjacency :math:`a` is the number of points on an integer lattice
and inside a d-ball. This quantity can be approximated by the volume of a
d-ball, see for instance
`Gauss circle problem&lt;https://en.wikipedia.org/wiki/Gauss_circle_problem&gt;`_
 in 2D.

A non-zero kernel threshold is used to sparsify a matrix by tapering its
correlation function. However, if the kernel threshold is too large, some
elements of the correlation matrix will not be correlated to any other
neighbor point. This leads to a correlation matrix with some rows that have
only one non-zero element equal to one on the diagonal and zero elsewhere.
Essentially, if all points loose their correlation to a neighbor, the
matrix becomes identity.

This function checks if a set of parameters to form a sparse matrix could
lead to this issue. The correlation matrix in this module is formed by the
mutual correlation between spatial set of points in the unit hypercube. We
assume each point is surrounded by a sphere of the radius of the kernel
threshold. If this radius is large enough, then the sphere of all points
intersect. If the criteria is not met, this function raises ``ValueError``.

:param matrix_size: The size of the square matrix. This is also the number
    of points used to construct the correlation matrix.
:type matrix_size: int

:param dimension: The dimension of the space of points used to construct
    the correlation matrix.
:type dimension: int

:param sparse_density: The desired density of the sparse matrix. Note that
    the actual density of the generated matrix will not be exactly equal to
    this value. If the matrix size is large, this value is close to the
    actual matrix density.
:type sparse_density: int

:param scale: A parameter of correlation function that scales
    distance.
:type scale: float

:param nu: The parameter :math:`\\nu` of Matern correlation kernel.
:type nu: float

:return: Kernel threshold level
:rtype: double
</pre> 
<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00291">291</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        kernel_param):</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="stringliteral">    Estimates the kernel&#39;s tapering threshold to sparsify a dense matrix into a</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="stringliteral">    sparse matrix with the requested density.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="stringliteral">    Here is how density :math:`\\rho` is related to the kernel_threshold</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="stringliteral">    :math:`\\tau`:</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">    .. math::</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="stringliteral">        a = \\rho n = \\mathrm{Vol}_{d}(r/l),</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="stringliteral">        \\tau = k(r),</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="stringliteral">    where:</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="stringliteral">        * :math:`n` is the number of points in the unit hypercube, also it is</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="stringliteral">          the matrix size.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">        * :math:`d` is the dimension of space.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="stringliteral">        * :math:`\\mathrm{Vol}_{d}(r/l)` is the volume of d-ball of radius</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="stringliteral">          :math:`r/l`.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="stringliteral">        * :math:`l = 1/(\\sqrt[d]{n} - 1)` is the grid size along each axis,</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="stringliteral">          assuming the points are places on an equi-distanced structured grid.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="stringliteral">        * :math:`k` is the Matern correlation function.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="stringliteral">        * :math:`a` is the adjacency of a point, which is the number of</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="stringliteral">          the neighbor points that are correlated to a point.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="stringliteral">        * :math:`\\rho` is the sparse matrix density (input to this function).</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="stringliteral">        * :math:`\\tau` is the kernel threshold (output of this function).</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="stringliteral">    The adjacency :math:`a` is the number of points on an integer lattice</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="stringliteral">    and inside a d-ball. This quantity can be approximated by the volume of a</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="stringliteral">    d-ball, see for instance</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="stringliteral">    `Gauss circle problem&lt;https://en.wikipedia.org/wiki/Gauss_circle_problem&gt;`_</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="stringliteral">     in 2D.</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="stringliteral">    A non-zero kernel threshold is used to sparsify a matrix by tapering its</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="stringliteral">    correlation function. However, if the kernel threshold is too large, some</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="stringliteral">    elements of the correlation matrix will not be correlated to any other</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="stringliteral">    neighbor point. This leads to a correlation matrix with some rows that have</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="stringliteral">    only one non-zero element equal to one on the diagonal and zero elsewhere.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="stringliteral">    Essentially, if all points loose their correlation to a neighbor, the</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="stringliteral">    matrix becomes identity.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="stringliteral">    This function checks if a set of parameters to form a sparse matrix could</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="stringliteral">    lead to this issue. The correlation matrix in this module is formed by the</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="stringliteral">    mutual correlation between spatial set of points in the unit hypercube. We</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="stringliteral">    assume each point is surrounded by a sphere of the radius of the kernel</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="stringliteral">    threshold. If this radius is large enough, then the sphere of all points</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="stringliteral">    intersect. If the criteria is not met, this function raises ``ValueError``.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="stringliteral">    :param matrix_size: The size of the square matrix. This is also the number</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="stringliteral">        of points used to construct the correlation matrix.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="stringliteral">    :type matrix_size: int</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="stringliteral">    :param dimension: The dimension of the space of points used to construct</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="stringliteral">        the correlation matrix.</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="stringliteral">    :type dimension: int</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="stringliteral">    :param sparse_density: The desired density of the sparse matrix. Note that</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="stringliteral">        the actual density of the generated matrix will not be exactly equal to</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="stringliteral">        this value. If the matrix size is large, this value is close to the</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="stringliteral">        actual matrix density.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="stringliteral">    :type sparse_density: int</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="stringliteral">    :param scale: A parameter of correlation function that scales</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="stringliteral">        distance.</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="stringliteral">    :type scale: float</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="stringliteral">    :param nu: The parameter :math:`\\nu` of Matern correlation kernel.</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="stringliteral">    :type nu: float</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="stringliteral">    :return: Kernel threshold level</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="stringliteral">    :rtype: double</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment"># Number of neighbor points to be correlated in a neighborhood of a point</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    adjacency_volume = density * matrix_size</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment"># If Adjacency is less that one, the correlation matrix becomes identity</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment"># since no point will be adjacent to other in the correlation matrix.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> adjacency_volume &lt; 1.0:</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="stringliteral">&#39;Adjacency: %0.2f. Correlation matrix will become identity &#39;</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                % (adjacency_volume) +</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="stringliteral">&#39;since kernel radius is less than grid size. To increase &#39;</span> +</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="stringliteral">&#39;adjacency, consider increasing density or scale.&#39;</span>)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment"># Approximate radius of n-sphere containing the above number of adjacent</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment"># points, assuming adjacent points are distanced on integer lattice.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    adjacency_radius = <a class="code" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00">_ball_radius</a>(adjacency_volume, dimension)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment"># Number of points along each axis of the grid</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    grid_axis_num_points = matrix_size**(1.0 / dimension)</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment"># Size of grid elements</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    grid_size = 1.0 / (grid_axis_num_points - 1.0)</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment"># Scale the integer lattice of adjacency radius by the grid size.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment"># This is the tapering radius of the kernel</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    kernel_radius = grid_size * adjacency_radius</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment"># Get the kernel functon</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    cdef kernel_type kernel_function = get_kernel(kernel)</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment"># Threshold of kernel to perform tapering</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    kernel_threshold = <a class="code" href="namespaceimate_1_1sample__matrices_1_1__kernels.html#a72b54b22ba340e9e52a32f60c222bc77">kernel_function</a>(kernel_radius/scale,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                       kernel_param)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> kernel_threshold</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160; </div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"># ================</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"># estimate max nnz</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"># ================</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="ttc" id="anamespaceimate_1_1sample__matrices_1_1__kernels_html_a72b54b22ba340e9e52a32f60c222bc77"><div class="ttname"><a href="namespaceimate_1_1sample__matrices_1_1__kernels.html#a72b54b22ba340e9e52a32f60c222bc77">imate.sample_matrices._kernels.kernel_function</a></div><div class="ttdeci">kernel_function</div><div class="ttdef"><b>Definition:</b> <a href="__kernels_8pyx_source.html#l00048">_kernels.pyx:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00253">imate.sample_matrices._sparse_correlation_matrix._ball_radius()</a>, and <a class="el" href="__kernels_8pyx_source.html#l00048">imate.sample_matrices._kernels.kernel_function</a>.</p>

<p class="reference">Referenced by <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00460">imate.sample_matrices._sparse_correlation_matrix.sparse_correlation_matrix()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_cgraph.png" border="0" usemap="#anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_cgraph" alt=""/></div>
<map name="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_cgraph" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,188,61"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00" title=" " alt="" coords="236,5,419,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_icgraph.png" border="0" usemap="#anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_icgraph" alt=""/></div>
<map name="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_icgraph" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_ad3eb76f51fd5dd38e4aa3222ac1c93a5_icgraph">
<area shape="rect" title=" " alt="" coords="275,5,457,61"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a83b3a16cded854e41425d2550d137d95" title=" " alt="" coords="5,5,227,61"/>
</map>
</div>

</div>
</div>
<a id="a46ec734668902458e231252e57796aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ec734668902458e231252e57796aaa">&#9670;&nbsp;</a></span>_estimate_max_nnz()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def imate.sample_matrices._sparse_correlation_matrix._estimate_max_nnz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matrix_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dimension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>density</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Estimates the maximum number of nnz needed to store the indices and data of
the generated sparse matrix. Before the generation of the sparse matrix,
its nnz (number of non-zero elements) are not known. Thus, this function
only guesses this value based on its density.

:param matrix_size: The size of the square matrix. This is also the number
    of points used to construct the correlation matrix.
:type matrix_size: int

:param dimension: The dimension of the space of points used to construct
    the correlation matrix.
:type dimension: int

:param sparse_density: The desired density of the sparse matrix. Note that
    the actual density of the generated matrix will not be exactly equal to
    this value. If the matrix size is large, this value is close to the
    actual matrix density.
:type sparse_density: int

:return: maximum non-zero elements of sparse array
:rtype: double
</pre> 
<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00411">411</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>
<div class="fragment"><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        density):</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="stringliteral">    Estimates the maximum number of nnz needed to store the indices and data of</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="stringliteral">    the generated sparse matrix. Before the generation of the sparse matrix,</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="stringliteral">    its nnz (number of non-zero elements) are not known. Thus, this function</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="stringliteral">    only guesses this value based on its density.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral">    :param matrix_size: The size of the square matrix. This is also the number</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="stringliteral">        of points used to construct the correlation matrix.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="stringliteral">    :type matrix_size: int</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="stringliteral">    :param dimension: The dimension of the space of points used to construct</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="stringliteral">        the correlation matrix.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="stringliteral">    :type dimension: int</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">    :param sparse_density: The desired density of the sparse matrix. Note that</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="stringliteral">        the actual density of the generated matrix will not be exactly equal to</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="stringliteral">        this value. If the matrix size is large, this value is close to the</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">        actual matrix density.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="stringliteral">    :type sparse_density: int</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="stringliteral">    :return: maximum non-zero elements of sparse array</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="stringliteral">    :rtype: double</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    estimated_nnz = int(numpy.ceil(density * (matrix_size**2)))</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160; </div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment"># Multiply the estimated nnz by unit hypercube over unit ball volume ratio</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    safty_coeff = 1.0 / <a class="code" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00">_ball_radius</a>(1.0, dimension)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    max_nnz = int(numpy.ceil(safty_coeff * estimated_nnz))</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> max_nnz</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"># =========================</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment"># sparse correlation matrix</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"># =========================</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00253">imate.sample_matrices._sparse_correlation_matrix._ball_radius()</a>.</p>

<p class="reference">Referenced by <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00460">imate.sample_matrices._sparse_correlation_matrix.sparse_correlation_matrix()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_cgraph.png" border="0" usemap="#anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_cgraph" alt=""/></div>
<map name="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_cgraph" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,188,61"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00" title=" " alt="" coords="236,5,419,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_icgraph.png" border="0" usemap="#anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_icgraph" alt=""/></div>
<map name="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_icgraph" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a46ec734668902458e231252e57796aaa_icgraph">
<area shape="rect" title=" " alt="" coords="275,5,457,61"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a83b3a16cded854e41425d2550d137d95" title=" " alt="" coords="5,5,227,61"/>
</map>
</div>

</div>
</div>
<a id="a83b3a16cded854e41425d2550d137d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b3a16cded854e41425d2550d137d95">&#9670;&nbsp;</a></span>sparse_correlation_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def imate.sample_matrices._sparse_correlation_matrix.sparse_correlation_matrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel</em> = <code>'exponential'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kernel_param</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>density</em> = <code>0.001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>format</em> = <code>r'csr'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>r'float64'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generates either a sparse correlation matrix.

.. note::

    If the ``kernel_threshold`` is large, it causes:

        * The correlation matrix :math:`\\mathbf{K}` will not be
          positive-definite.
        * The function :math:`\\mathrm{trace}\\left((\\mathbf{K}+t
          \\mathbf{I})^{-1}\\right)` produces unwanted oscillations.

:param coords: 2D array of the coordinates of the set of points. The first
    index of the array is the point Ids and its size determines the size of
    the correlation matrix. The second index of the array corresponds to
    the dimension of the spatial points.
:type coords: numpy.ndarray

:param scale: A parameter of correlation function that scales
    distance.
:type scale: float

:param nu: The parameter :math:`\\nu` of Matern correlation kernel.
:type nu: float

:param density: The desired density of the non-zero elements of the sparse
    matrix. Note that the actual density of the generated matrix may not be
    exactly equal to this value. If the matrix size is large, this value is
    close to the actual matrix density.
:type sparse_density: int

:param verbose: If ``True``, prints some information during the process.
:type verbose: bool

:return: Correlation matrix. If ``coords`` is ``n*m`` array, the
    correlation ``K`` is ``n*n`` matrix.
:rtype: numpy.ndarray or scipy.sparse array

.. warning::
    ``kernel_threshold`` should be large enough so that the correlation
    matrix is not shrunk to identity. If such case happens, this function
    raises a *ValueError* exception.

    In addition, ``kernel_threshold`` should be small enough to not
    eradicate its positive-definiteness. This is not checked by this
    function and the user should be aware of it.
</pre> 
<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00452">452</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>
<div class="fragment"><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        verbose=<span class="keyword">False</span>):</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="stringliteral">    Generates either a sparse correlation matrix.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="stringliteral">    .. note::</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="stringliteral">        If the ``kernel_threshold`` is large, it causes:</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="stringliteral">            * The correlation matrix :math:`\\mathbf{K}` will not be</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="stringliteral">              positive-definite.</span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="stringliteral">            * The function :math:`\\mathrm{trace}\\left((\\mathbf{K}+t</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="stringliteral">              \\mathbf{I})^{-1}\\right)` produces unwanted oscillations.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="stringliteral">    :param coords: 2D array of the coordinates of the set of points. The first</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="stringliteral">        index of the array is the point Ids and its size determines the size of</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="stringliteral">        the correlation matrix. The second index of the array corresponds to</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="stringliteral">        the dimension of the spatial points.</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="stringliteral">    :type coords: numpy.ndarray</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="stringliteral">    :param scale: A parameter of correlation function that scales</span></div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="stringliteral">        distance.</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="stringliteral">    :type scale: float</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="stringliteral">    :param nu: The parameter :math:`\\nu` of Matern correlation kernel.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="stringliteral">    :type nu: float</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="stringliteral">    :param density: The desired density of the non-zero elements of the sparse</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="stringliteral">        matrix. Note that the actual density of the generated matrix may not be</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="stringliteral">        exactly equal to this value. If the matrix size is large, this value is</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="stringliteral">        close to the actual matrix density.</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="stringliteral">    :type sparse_density: int</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="stringliteral">    :param verbose: If ``True``, prints some information during the process.</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="stringliteral">    :type verbose: bool</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="stringliteral">    :return: Correlation matrix. If ``coords`` is ``n*m`` array, the</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="stringliteral">        correlation ``K`` is ``n*n`` matrix.</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="stringliteral">    :rtype: numpy.ndarray or scipy.sparse array</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="stringliteral">    .. warning::</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="stringliteral">        ``kernel_threshold`` should be large enough so that the correlation</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="stringliteral">        matrix is not shrunk to identity. If such case happens, this function</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="stringliteral">        raises a *ValueError* exception.</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="stringliteral">        In addition, ``kernel_threshold`` should be small enough to not</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="stringliteral">        eradicate its positive-definiteness. This is not checked by this</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="stringliteral">        function and the user should be aware of it.</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment"># Makes kernel paramerter a C-type NAN</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> kernel_param <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        kernel_param = NAN</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment"># size of data and the correlation matrix</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    matrix_size = coords.shape[0]</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    dimension = coords.shape[1]</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment"># Get number of CPU threads</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    num_threads = multiprocessing.cpu_count()</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment"># Get the kernel functon</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    cdef kernel_type kernel_function = get_kernel(kernel)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment"># kernel threshold</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    kernel_threshold = <a class="code" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#ad3eb76f51fd5dd38e4aa3222ac1c93a5">_estimate_kernel_threshold</a>(</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            matrix_size,</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            dimension,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            density,</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            scale,</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            kernel,</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            kernel_param)</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment"># maximum nnz</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    max_nnz = <a class="code" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a46ec734668902458e231252e57796aaa">_estimate_max_nnz</a>(</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            matrix_size,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            dimension,</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            density)</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="comment"># Memory view of the correlation matrix</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    cdef float[:] mv_matrix_data_float</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    cdef double[:] mv_matrix_data_double</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    cdef long double[:] mv_matrix_data_long_double</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment"># C pointer to the correlation matrix</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    cdef float* c_matrix_data_float</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    cdef double* c_matrix_data_double</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    cdef long double* c_matrix_data_long_double</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment"># Try with the estimated nnz. If not enough, we will double and retry</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    success = 0</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">while</span> <span class="keywordflow">not</span> bool(success):</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="comment"># Allocate sparse arrays</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        matrix_row_indices = numpy.zeros((max_nnz,), dtype=int)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        matrix_column_indices = numpy.zeros((max_nnz,), dtype=int)</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        matrix_data = numpy.zeros((max_nnz,), dtype=dtype)</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        nnz = numpy.zeros((1,), dtype=int)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> dtype == <span class="stringliteral">r&#39;float32&#39;</span>:</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="comment"># Get pointer to the correlation matrix</span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            mv_matrix_data_float = matrix_data</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;            c_matrix_data_float = &amp;mv_matrix_data_float[0]</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="comment"># Generate matrix assuming the estimated nnz is enough</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            success = _generate_matrix[float](</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                    coords,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    matrix_size,</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    dimension,</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                    scale,</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                    kernel_function,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                    kernel_param,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                    kernel_threshold,</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                    num_threads,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                    int(verbose),</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                    max_nnz,</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                    nnz,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                    matrix_row_indices,</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    matrix_column_indices,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    c_matrix_data_float)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keywordflow">elif</span> dtype == <span class="stringliteral">r&#39;float64&#39;</span>:</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="comment"># Get pointer to the correlation matrix</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            mv_matrix_data_double = matrix_data</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            c_matrix_data_double = &amp;mv_matrix_data_double[0]</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            <span class="comment"># Generate matrix assuming the estimated nnz is enough</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            success = _generate_matrix[double](</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    coords,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    matrix_size,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    dimension,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    scale,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    kernel_function,</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    kernel_param,</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    kernel_threshold,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    num_threads,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                    int(verbose),</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                    max_nnz,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    nnz,</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    matrix_row_indices,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    matrix_column_indices,</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    c_matrix_data_double)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">elif</span> dtype == <span class="stringliteral">r&#39;float128&#39;</span>:</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="comment"># Get pointer to the correlation matrix</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            mv_matrix_data_long_double = matrix_data</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            c_matrix_data_long_double = &amp;mv_matrix_data_long_double[0]</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="comment"># Generate matrix assuming the estimated nnz is enough</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            success = _generate_matrix[long_double](</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                    coords,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    matrix_size,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    dimension,</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    scale,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                    kernel_function,</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    kernel_param,</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    kernel_threshold,</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                    num_threads,</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    int(verbose),</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    max_nnz,</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    nnz,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    matrix_row_indices,</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                    matrix_column_indices,</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    c_matrix_data_long_double)</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;&quot;dtype&quot; should be either &quot;float32&quot;, &quot;float64&quot; &#39;</span> +</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                            <span class="stringliteral">&#39;, or &quot;float128&quot;.&#39;</span>)</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="comment"># Double the number of pre-allocated nnz and try again</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> bool(success):</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            max_nnz = 2 * max_nnz</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <span class="keywordflow">if</span> verbose:</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                print(<span class="stringliteral">&#39;Retry generation of sparse matrix with max_nnz: %d&#39;</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                      % (max_nnz))</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment"># Construct scipy.sparse.coo_matrix, then convert it to CSR matrix.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    correlation_matrix = scipy.sparse.coo_matrix(</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;            (matrix_data[:nnz[0]],</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;             (matrix_row_indices[:nnz[0]],</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;              matrix_column_indices[:nnz[0]])),</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            shape=(matrix_size, matrix_size))</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keywordflow">if</span> format == <span class="stringliteral">&#39;csr&#39;</span>:</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        correlation_matrix = correlation_matrix.tocsr()</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">elif</span> format == <span class="stringliteral">&#39;csc&#39;</span>:</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        correlation_matrix = correlation_matrix.tocsc()</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;&quot;format&quot; should be &quot;csr&quot; or &quot;csc&quot;.&#39;</span>)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160; </div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment"># Actual sparse density</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        actual_density = correlation_matrix.nnz / \</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                numpy.prod(correlation_matrix.shape)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        print(<span class="stringliteral">&#39;Generated sparse correlation matrix using &#39;</span> +</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;              <span class="stringliteral">&#39;kernel threshold: %0.4f and &#39;</span> % (kernel_threshold) +</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;              <span class="stringliteral">&#39;sparse density: %0.2e.&#39;</span> % (actual_density))</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keywordflow">return</span> correlation_matrix</div>
<div class="ttc" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_html_a46ec734668902458e231252e57796aaa"><div class="ttname"><a href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a46ec734668902458e231252e57796aaa">imate.sample_matrices._sparse_correlation_matrix._estimate_max_nnz</a></div><div class="ttdeci">def _estimate_max_nnz(matrix_size, dimension, density)</div><div class="ttdef"><b>Definition:</b> <a href="__sparse__correlation__matrix_8pyx_source.html#l00411">_sparse_correlation_matrix.pyx:414</a></div></div>
<div class="ttc" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_html_ad3eb76f51fd5dd38e4aa3222ac1c93a5"><div class="ttname"><a href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#ad3eb76f51fd5dd38e4aa3222ac1c93a5">imate.sample_matrices._sparse_correlation_matrix._estimate_kernel_threshold</a></div><div class="ttdeci">def _estimate_kernel_threshold(matrix_size, dimension, density, scale, kernel, kernel_param)</div><div class="ttdef"><b>Definition:</b> <a href="__sparse__correlation__matrix_8pyx_source.html#l00291">_sparse_correlation_matrix.pyx:297</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00297">imate.sample_matrices._sparse_correlation_matrix._estimate_kernel_threshold()</a>, and <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00414">imate.sample_matrices._sparse_correlation_matrix._estimate_max_nnz()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a83b3a16cded854e41425d2550d137d95_cgraph.png" border="0" usemap="#anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a83b3a16cded854e41425d2550d137d95_cgraph" alt=""/></div>
<map name="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a83b3a16cded854e41425d2550d137d95_cgraph" id="anamespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix_a83b3a16cded854e41425d2550d137d95_cgraph">
<area shape="rect" title=" " alt="" coords="5,45,227,101"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#ad3eb76f51fd5dd38e4aa3222ac1c93a5" title=" " alt="" coords="275,5,457,61"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a46ec734668902458e231252e57796aaa" title=" " alt="" coords="275,85,457,141"/>
<area shape="rect" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#aed6b3a6512bc03277e77310fa5ccde00" title=" " alt="" coords="505,45,688,101"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7ca42de708046d2c85bdea3a4cc63e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ca42de708046d2c85bdea3a4cc63e8f">&#9670;&nbsp;</a></span>__all__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list imate.sample_matrices._sparse_correlation_matrix.__all__ = ['<a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#a83b3a16cded854e41425d2550d137d95">sparse_correlation_matrix</a>']</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00030">30</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="a60806b66a4a6944d461cb3bd9604e841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60806b66a4a6944d461cb3bd9604e841">&#9670;&nbsp;</a></span>chunk_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imate.sample_matrices._sparse_correlation_matrix.chunk_size = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00160">160</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="a0cfa2e07134719c8e798deef9fbfea08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfa2e07134719c8e798deef9fbfea08">&#9670;&nbsp;</a></span>chunksize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imate.sample_matrices._sparse_correlation_matrix.chunksize</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00169">169</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="abf97d69347ee97bcd481a3e5fc952dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf97d69347ee97bcd481a3e5fc952dc5">&#9670;&nbsp;</a></span>matrix_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imate.sample_matrices._sparse_correlation_matrix.matrix_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00169">169</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="af7d9682bb1a7c5b410e9c10a126d3a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7d9682bb1a7c5b410e9c10a126d3a56">&#9670;&nbsp;</a></span>percent_update</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imate.sample_matrices._sparse_correlation_matrix.percent_update = 20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00138">138</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="a1d140c3362c16ea2f3a3188521d70cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d140c3362c16ea2f3a3188521d70cd5">&#9670;&nbsp;</a></span>progress</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int imate.sample_matrices._sparse_correlation_matrix.progress = <a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html#af7d9682bb1a7c5b410e9c10a126d3a56">percent_update</a> * counter[0] // \</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00237">237</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="a6150f88eff2b0bde96fa3e09b2abfcd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6150f88eff2b0bde96fa3e09b2abfcd3">&#9670;&nbsp;</a></span>schedule</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imate.sample_matrices._sparse_correlation_matrix.schedule</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00169">169</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
<a id="a17b50a7e253165ef67ec21637506bc86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17b50a7e253165ef67ec21637506bc86">&#9670;&nbsp;</a></span>thread_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">imate.sample_matrices._sparse_correlation_matrix.thread_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="__sparse__correlation__matrix_8pyx_source.html#l00130">130</a> of file <a class="el" href="__sparse__correlation__matrix_8pyx_source.html">_sparse_correlation_matrix.pyx</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>imate</b></li><li class="navelem"><b>sample_matrices</b></li><li class="navelem"><a class="el" href="namespaceimate_1_1sample__matrices_1_1__sparse__correlation__matrix.html">_sparse_correlation_matrix</a></li>
    <li class="footer">Generated on Thu Sep 1 2022 16:18:34 for imate by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
