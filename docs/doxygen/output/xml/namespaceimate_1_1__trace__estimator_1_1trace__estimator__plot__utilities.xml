<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.1" xml:lang="en-US">
  <compounddef id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities" kind="namespace" language="Python">
    <compoundname>imate::_trace_estimator::trace_estimator_plot_utilities</compoundname>
      <sectiondef kind="var">
      <memberdef kind="variable" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5493bc208abc22214cc40ed200d4be3b" prot="public" static="no" mutable="no">
        <type>bool</type>
        <definition>bool imate::_trace_estimator::trace_estimator_plot_utilities::plot_modules_exist</definition>
        <argsstring></argsstring>
        <name>plot_modules_exist</name>
        <initializer>=  True</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="20" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="20" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a980131643214ef893ac370c8923b67c6" prot="private" static="no" mutable="no">
        <type>list</type>
        <definition>list imate::_trace_estimator::trace_estimator_plot_utilities.__all__</definition>
        <argsstring></argsstring>
        <name>__all__</name>
        <initializer>=  [&apos;<ref refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5b5b11b077873546cc4bd81e9d38c991" kindref="member">plot_convergence</ref>&apos;]</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="24" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="24" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a4856b82b9c4a9d17e5c2be1c505a010d" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def imate._trace_estimator.trace_estimator_plot_utilities._remove_outliers</definition>
        <argsstring>(samples, samples_processed_order, num_samples_used, outlier_confidence_level)</argsstring>
        <name>_remove_outliers</name>
        <param>
          <type>samples</type>
          <defname>samples</defname>
        </param>
        <param>
          <type>samples_processed_order</type>
          <defname>samples_processed_order</defname>
        </param>
        <param>
          <type>num_samples_used</type>
          <defname>num_samples_used</defname>
        </param>
        <param>
          <type>outlier_confidence_level</type>
          <defname>outlier_confidence_level</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>Flags the outlier samples and sets them to nan. The outlier is defined
by those sample points that are outside of the confidence region
defined by a confidence level.

:param samples: 2D array of size ``(max_num_samples, num_inquiry)``. Each
    column is the set of all samples for an inquiry. Some of these samples
    might be nan, because, often, the convergence is achieved sooner than
    ``max_num_samples``, hence, with the fewer number of processed rows,
    the remaining elements in a row remain nan.
:type: numpy.ndarray

:param samples_processed_order: Due to parallel processing, the rows of the
    ``samples`` array are not processed sequentially. This 1D array of size
    ``max_num_samples`` keeps the record of the process order of the rows
    of ``samples``.
:type samples_process_order: numpy.ndarray

:param num_samples_used: 1D array of size ``num_inquiry``. The j-th
    element is the number of valid (non-nan) rows of the j-th column of
    ``samples``. Thus, it indicates how many samples exists for the j-th
    inquiry out of the max number of samples.
:type num_samples_used: numpy.ndarray

:param outlier_confidence_level: The confidence level of the outlier, which
    is between ``0`` and ``1``. For example, the confidence level of
    ``0.001`` means that the outliers are in the 1% area of the both ends
    of the tails of the normal distribution. When this value is zero, no
    outlier will be detected and removed. A larger level will flag more
    points as outlier.
:type confidence_level: float

:return: Returns two arrays:
    * ``cleaned_smaples``: an array copied from ``samples``, but the
      outliers are converted to ``numpy.nan``.
    * ``outlier_indices``: a boolean array of the same shape as ``samples``
      where the flagged outliers are set to True.
: rtype: tuple (numpy.ndarray)
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="31" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="35" bodyend="108"/>
        <referencedby refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5b5b11b077873546cc4bd81e9d38c991" compoundref="trace__estimator__plot__utilities_8py" startline="512" endline="602">imate._trace_estimator.trace_estimator_plot_utilities.plot_convergence</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1ab9d29de8d95a73fda97ac3868aadddfc" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def imate._trace_estimator.trace_estimator_plot_utilities._compute_cumulative_statistics</definition>
        <argsstring>(samples, samples_processed_order, num_samples_used, confidence_level)</argsstring>
        <name>_compute_cumulative_statistics</name>
        <param>
          <type>samples</type>
          <defname>samples</defname>
        </param>
        <param>
          <type>samples_processed_order</type>
          <defname>samples_processed_order</defname>
        </param>
        <param>
          <type>num_samples_used</type>
          <defname>num_samples_used</defname>
        </param>
        <param>
          <type>confidence_level</type>
          <defname>confidence_level</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>Computes mean and error as the number of samples progresses. The output
are the means, absolute and relative errors of the samples.

The cumulative here refers to the progressive mean or error of the samples
from the first to the current row as the row progresses by introducing more
rows to the samples data. For example, the i-th row and j-th column of the
cumulative mean is the mean of rows 0:i-1 and j-th column of samples.

:param samples: 2D array of size ``(max_num_samples, num_inquiry)``. Each
    column is the set of all samples for an inquiry. Some of these samples
    might be nan, because, often, the convergence is achieved sooner than
    ``max_num_samples``, hence, with the fewer number of processed rows,
    the remaining elements in a row remain nan.
:type: numpy.ndarray

:param samples_processed_order: Due to parallel processing, the rows of the
    ``samples`` array are not processed sequentially. This 1D array of size
    ``max_num_samples`` keeps the record of the process order of the rows
    of ``samples``.
:type samples_process_order: numpy.ndarray

:param num_samples_used: 1D array of size ``num_inquiry``. The j-th
    element is the number of valid (non-nan) rows of the j-th column of
    ``samples``. Thus, it indicates how many samples exists for the j-th
    inquiry out of the max number of samples.
:type num_samples_used: numpy.ndarray

:param confidence_level: The confidence level of the error, which is
    between ``0`` and ``1``. For example, the confidence level of ``0.95``
    means that the confidence region consists of 95% of the area under the
    normal distribution of the samples.
:type confidence_level: float

:return: A list of cumulative mean, absolute error, and relative error.
    Each of these three arrays have the same shape as ``samples``.
:rtype: list
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="109" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="113" bodyend="198"/>
        <referencedby refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5b5b11b077873546cc4bd81e9d38c991" compoundref="trace__estimator__plot__utilities_8py" startline="512" endline="602">imate._trace_estimator.trace_estimator_plot_utilities.plot_convergence</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1ad7047cd3e950939f55c0351853e756e1" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def imate._trace_estimator.trace_estimator_plot_utilities._plot_samples</definition>
        <argsstring>(ax, samples, samples_processed_order, num_samples_used, confidence_level, cumulative_mean, cumulative_abs_error)</argsstring>
        <name>_plot_samples</name>
        <param>
          <type>ax</type>
          <defname>ax</defname>
        </param>
        <param>
          <type>samples</type>
          <defname>samples</defname>
        </param>
        <param>
          <type>samples_processed_order</type>
          <defname>samples_processed_order</defname>
        </param>
        <param>
          <type>num_samples_used</type>
          <defname>num_samples_used</defname>
        </param>
        <param>
          <type>confidence_level</type>
          <defname>confidence_level</defname>
        </param>
        <param>
          <type>cumulative_mean</type>
          <defname>cumulative_mean</defname>
        </param>
        <param>
          <type>cumulative_abs_error</type>
          <defname>cumulative_abs_error</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>When ``num_inquiries`` is ``1``, this function is called to plot the
samples and their cumulative mean. When ``num_inquiries`` is more than one,
the samples of different inquiries cannot be plotted in the same axes since
the value of trace might be very difference for each case.

:param ax: axes object
:type ax: numpy.ndarray

:param samples: 2D array of size ``(max_num_samples, num_inquiry)``. Each
    column is the set of all samples for an inquiry. Some of these samples
    might be nan, because, often, the convergence is achieved sooner than
    ``max_num_samples``, hence, with the fewer number of processed rows,
    the remaining elements in a row remain nan.
:type: numpy.ndarray

:param samples_processed_order: Due to parallel processing, the rows of the
    ``samples`` array are not processed sequentially. This 1D array of size
    ``max_num_samples`` keeps the record of the process order of the rows
    of ``samples``.
:type samples_process_order: numpy.ndarray

:param num_samples_used: 1D array of size ``num_inquiry``. The j-th
    element is the number of valid (non-nan) rows of the j-th column of
    ``samples``. Thus, it indicates how many samples exists for the j-th
    inquiry out of the max number of samples. Note that this is different
    than ``num_samples_processed``, because the j-th column might converge
    sooner than others and thus, less number of samples were used for it.
:type num_samples_used: numpy.ndarray

:param confidence_level: The confidence level of the error, which is
    between ``0`` and ``1``. For example, the confidence level of ``0.95``
    means that the confidence region consists of 95% of the area under the
    normal distribution of the samples.
:type confidence_level: float

:param cumulative_mean: 2D array of size ``(max_num_samples, num_inqiries).
:type cumulative_mean: numpy.ndarray

:param cumulative_abs_error: 2D array of size ``(max_num_samples,
    num_inqiries).
:type cumulative_abs_error: numpy.ndarray
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="199" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="206" bodyend="305"/>
        <references refid="namespaceimate_1_1__utilities_1_1plot__utilities_1ac5be3859295616ee4d82fdcaab5faedd" compoundref="plot__utilities_8py" startline="64" endline="103">imate._utilities.plot_utilities.load_plot_settings</references>
        <referencedby refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5b5b11b077873546cc4bd81e9d38c991" compoundref="trace__estimator__plot__utilities_8py" startline="512" endline="602">imate._trace_estimator.trace_estimator_plot_utilities.plot_convergence</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1ac297a0e6e32b51a8fc6308b93c724869" prot="private" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def imate._trace_estimator.trace_estimator_plot_utilities._plot_error</definition>
        <argsstring>(ax, num_samples_used, min_num_samples, max_num_samples, error_atol, error_rtol, converged, cumulative_abs_error, cumulative_rel_error)</argsstring>
        <name>_plot_error</name>
        <param>
          <type>ax</type>
          <defname>ax</defname>
        </param>
        <param>
          <type>num_samples_used</type>
          <defname>num_samples_used</defname>
        </param>
        <param>
          <type>min_num_samples</type>
          <defname>min_num_samples</defname>
        </param>
        <param>
          <type>max_num_samples</type>
          <defname>max_num_samples</defname>
        </param>
        <param>
          <type>error_atol</type>
          <defname>error_atol</defname>
        </param>
        <param>
          <type>error_rtol</type>
          <defname>error_rtol</defname>
        </param>
        <param>
          <type>converged</type>
          <defname>converged</defname>
        </param>
        <param>
          <type>cumulative_abs_error</type>
          <defname>cumulative_abs_error</defname>
        </param>
        <param>
          <type>cumulative_rel_error</type>
          <defname>cumulative_rel_error</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>Plots cumulative errors. When ``num_inquiries`` is ``1``, it plots both
absolute and relative errors (on left and right y axes) on the same axes.
However, when ``num_inquiries`` is more than one, it only plots the
relative error. This is because, with the multiple number of inquiries, the
absolute error of each can be on different plot scales and they cannot be
contained in the same scale of the plot.

:param ax: axes object
:type ax: numpy.ndarray

:param num_samples_used: 1D array of size ``num_inquiry``. The j-th
    element is the number of valid (non-nan) rows of the j-th column of
    ``samples``. Thus, it indicates how many samples exists for the j-th
    inquiry out of the max number of samples. Note that this is different
    than ``num_samples_processed``, because the j-th column might converge
    sooner than others and thus, less number of samples were used for it.
:type num_samples_used: numpy.ndarray

:param min_num_samples: Minimum number of samples. In the iterations below
    this number, the convergence is now checked.
:type min_num_samples: int

:param max_num_samples: Maximum number of samples. This is also the number
    of row of ``samples`` array.
:type max_num_samples: int

:param error_atol: Absolute error tolerance
:type error_atol: float

:param error_rtol: Relative error tolerance
:type error_rtol: float

:param converged: 1D boolean array of size ``num_inquiries`` and indicates
    which of the inquiries are converged at their final state.
:type converged: numpy.ndarray

:param cumulative_abs_error: 2D array of size ``(max_num_samples,
    num_inqiries).
:type cumulative_abs_error: numpy.ndarray

:param cumulative_rel_error: 2D array of size ``(max_num_samples,
    num_inqiries).
:type cumulative_rel_error: numpy.ndarray
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="306" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="315" bodyend="511"/>
        <references refid="namespaceimate_1_1__utilities_1_1plot__utilities_1ac5be3859295616ee4d82fdcaab5faedd" compoundref="plot__utilities_8py" startline="64" endline="103">imate._utilities.plot_utilities.load_plot_settings</references>
        <referencedby refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5b5b11b077873546cc4bd81e9d38c991" compoundref="trace__estimator__plot__utilities_8py" startline="512" endline="602">imate._trace_estimator.trace_estimator_plot_utilities.plot_convergence</referencedby>
      </memberdef>
      <memberdef kind="function" id="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a5b5b11b077873546cc4bd81e9d38c991" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>def</type>
        <definition>def imate._trace_estimator.trace_estimator_plot_utilities.plot_convergence</definition>
        <argsstring>(info)</argsstring>
        <name>plot_convergence</name>
        <param>
          <type>info</type>
          <defname>info</defname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><verbatim>Plots samples, cumulative mean, absolute and relative error.

:param info: A dictionary of all output info.
:type: dict
</verbatim> </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="512" column="1" bodyfile="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" bodystart="512" bodyend="602"/>
        <references refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1ab9d29de8d95a73fda97ac3868aadddfc" compoundref="trace__estimator__plot__utilities_8py" startline="113" endline="198">imate._trace_estimator.trace_estimator_plot_utilities._compute_cumulative_statistics</references>
        <references refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1ac297a0e6e32b51a8fc6308b93c724869" compoundref="trace__estimator__plot__utilities_8py" startline="315" endline="511">imate._trace_estimator.trace_estimator_plot_utilities._plot_error</references>
        <references refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1ad7047cd3e950939f55c0351853e756e1" compoundref="trace__estimator__plot__utilities_8py" startline="206" endline="305">imate._trace_estimator.trace_estimator_plot_utilities._plot_samples</references>
        <references refid="namespaceimate_1_1__trace__estimator_1_1trace__estimator__plot__utilities_1a4856b82b9c4a9d17e5c2be1c505a010d" compoundref="trace__estimator__plot__utilities_8py" startline="35" endline="108">imate._trace_estimator.trace_estimator_plot_utilities._remove_outliers</references>
        <references refid="namespaceimate_1_1__utilities_1_1plot__utilities_1ac5be3859295616ee4d82fdcaab5faedd" compoundref="plot__utilities_8py" startline="64" endline="103">imate._utilities.plot_utilities.load_plot_settings</references>
        <references refid="namespaceimate_1_1__utilities_1_1plot__utilities_1a16effb74c6816ea6e0efbd6cbd19a494" compoundref="plot__utilities_8py" startline="110" endline="156">imate._utilities.plot_utilities.save_plot</references>
        <referencedby refid="namespaceimate_1_1traceinv_1_1__hutchinson__method_1a62c0bc37cf02ed8dddf9d15fd56112ed" compoundref="__hutchinson__method_8pyx" startline="55" endline="720">imate.traceinv._hutchinson_method.hutchinson_method</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <location file="/home/sia/work/ADCP/Noise-Estimation/code/imate/imate/_trace_estimator/trace_estimator_plot_utilities.py" line="1" column="1"/>
  </compounddef>
</doxygen>
